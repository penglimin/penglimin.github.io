<!DOCTYPE html>
<html lang="en">
    <!-- title -->




<!-- keywords -->




<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta name="author" content="Duke">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Duke">
    
    <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="12345678910&#x2F;&#x2F; Define a function.void printInteger(int aNumber) &amp;#123;  print(&amp;#x27;The number is $aNumber.&amp;#x27;); &#x2F;&#x2F; Print to console.&amp;#125;&#x2F;&#x2F; This is where the app starts executing.void main() &amp;#123">
<meta property="og:type" content="article">
<meta property="og:title" content="Dart å¼€å‘è¯­è¨€æ¦‚è§ˆ - 01">
<meta property="og:url" content="http://penglimin.github.io/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="12345678910&#x2F;&#x2F; Define a function.void printInteger(int aNumber) &amp;#123;  print(&amp;#x27;The number is $aNumber.&amp;#x27;); &#x2F;&#x2F; Print to console.&amp;#125;&#x2F;&#x2F; This is where the app starts executing.void main() &amp;#123">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-05T02:02:29.000Z">
<meta property="article:modified_time" content="2021-07-05T06:35:59.770Z">
<meta property="article:author" content="Duke">
<meta property="article:tag" content="Dart">
<meta name="twitter:card" content="summary">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    
    <title>Dart å¼€å‘è¯­è¨€æ¦‚è§ˆ - 01 Â· Duke&#39;s ğŸ›–</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= "/css/style.css?v=20180824" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href= "/css/mobile.css?v=20180824" media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href= "/assets/favicon.ico" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script" />
    <link rel="preload" href="/scripts/main.js" as="script" />
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- ç™¾åº¦ç»Ÿè®¡  -->
    
    <!-- è°·æ­Œç»Ÿè®¡  -->
    
<meta name="generator" content="Hexo 5.4.0"></head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- posté¡µçš„toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >Duke&#39;s ğŸ›–</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">Dart å¼€å‘è¯­è¨€æ¦‚è§ˆ - 01</a>
            </div>
    </div>
    
    <a class="home-link" href=/>Duke's ğŸ›–</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style="







height:50vh;
">
    
    <!-- ä¸»é¡µ  -->
    
    
    <!-- 404é¡µ  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- æ ‡é¢˜  -->
        <h1 class="intro-title">
            <!-- ä¸»é¡µ  -->
            
            Dart å¼€å‘è¯­è¨€æ¦‚è§ˆ - 01
            <!-- 404 -->
            
        </h1>
        <!-- å‰¯æ ‡é¢˜ -->
        <p class="intro-subtitle">
            <!-- ä¸»é¡µå‰¯æ ‡é¢˜  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- æ–‡ç« é¡µmeta -->
        
            <div class="post-intros">
                <!-- æ–‡ç« é¡µæ ‡ç­¾  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "Dart">Dart</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">18k</span>Reading time: <span class="post-count reading-time">74 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2021/07/05</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IEå†…æ ¸
        presto: u.indexOf('Presto') > -1, //operaå†…æ ¸
        webKit: u.indexOf('AppleWebKit') > -1, //è‹¹æœã€è°·æ­Œå†…æ ¸
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //ç«ç‹å†…æ ¸
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //iosç»ˆç«¯
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //androidç»ˆç«¯æˆ–è€…ucæµè§ˆå™¨
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //æ˜¯å¦ä¸ºiPhoneæˆ–è€…å®‰å“QQæµè§ˆå™¨
        iPad: u.indexOf('iPad') > -1, //æ˜¯å¦ä¸ºiPad
        webApp: u.indexOf('Safari') == -1, //æ˜¯å¦ä¸ºwebåº”ç”¨ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨
        weixin: u.indexOf('MicroMessenger') == -1, //æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨
        uc: u.indexOf('UCBrowser') > -1 //æ˜¯å¦ä¸ºandroidä¸‹çš„UCæµè§ˆå™¨
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UCä¸æ”¯æŒè·¨åŸŸï¼Œæ‰€ä»¥ç›´æ¥æ˜¾ç¤º
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //æ‰€æœ‰å­—ä½“å¼€å§‹åŠ è½½
          // console.log('loading');
        },
        active: function () {  //æ‰€æœ‰å­—ä½“å·²æ¸²æŸ“
          fontLoaded();
        },
        inactive: function () { //å­—ä½“é¢„åŠ è½½å¤±è´¥ï¼Œæ— æ•ˆå­—ä½“æˆ–æµè§ˆå™¨ä¸æ”¯æŒåŠ è½½
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a function.</span></span><br><span class="line"><span class="keyword">void</span> printInteger(<span class="built_in">int</span> aNumber) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;The number is <span class="subst">$aNumber</span>.&#x27;</span>); <span class="comment">// Print to console.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is where the app starts executing.</span></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> number = <span class="number">42</span>; <span class="comment">// Declare and initialize a variable.</span></span><br><span class="line">  printInteger(number); <span class="comment">// Call a function.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-é‡è¦æ¦‚å¿µ"><a href="#1-é‡è¦æ¦‚å¿µ" class="headerlink" title="1. é‡è¦æ¦‚å¿µ"></a>1. é‡è¦æ¦‚å¿µ</h4><p>1.1 æ‰€æœ‰å˜é‡å¼•ç”¨çš„éƒ½æ˜¯ <strong>å¯¹è±¡</strong>ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ª <strong>ç±»</strong> çš„å®ä¾‹ã€‚æ•°å­—ã€å‡½æ•°ä»¥åŠ <code>null</code> éƒ½æ˜¯å¯¹è±¡ã€‚é™¤å» <code>null</code> ä»¥å¤–ï¼ˆå¦‚æœä½ å¼€å¯äº† <a target="_blank" rel="noopener" href="https://dart.cn/null-safety">ç©ºå®‰å…¨</a>ï¼‰, æ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿äº Object ç±»ã€‚</p>
<p>1.2 å°½ç®¡ Dart æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œä½†æ˜¯åœ¨å£°æ˜å˜é‡æ—¶æŒ‡å®šç±»å‹æ˜¯å¯é€‰çš„ï¼Œå› ä¸º Dart å¯ä»¥è¿›è¡Œç±»å‹æ¨æ–­ã€‚åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå˜é‡ <code>number</code>çš„ç±»å‹è¢«æ¨æ–­ä¸º <code>int</code> ç±»å‹ã€‚</p>
<p>1.3 å¦‚æœä½ å¼€å¯äº† <a target="_blank" rel="noopener" href="https://dart.cn/null-safety">ç©ºå®‰å…¨</a>ï¼Œå˜é‡åœ¨æœªå£°æ˜ä¸ºå¯ç©ºç±»å‹æ—¶ä¸èƒ½ä¸º <code>null</code>ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ç±»å‹ååŠ ä¸Šé—®å· (<code>?</code>) å°†ç±»å‹å£°æ˜ä¸ºå¯ç©ºã€‚ä¾‹å¦‚ï¼Œ<code>int?</code> ç±»å‹çš„å˜é‡å¯ä»¥æ˜¯æ•´å½¢æ•°å­—æˆ– <code>null</code>ã€‚å¦‚æœä½  <strong>æ˜ç¡®çŸ¥é“</strong> ä¸€ä¸ªè¡¨è¾¾å¼ä¸ä¼šä¸ºç©ºï¼Œä½† Dart ä¸è¿™ä¹ˆè®¤ä¸ºæ—¶ï¼Œä½ å¯ä»¥åœ¨è¡¨è¾¾å¼åæ·»åŠ  <code>!</code> æ¥æ–­è¨€è¡¨è¾¾å¼ä¸ä¸ºç©ºï¼ˆä¸ºç©ºæ—¶å°†æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚ä¾‹å¦‚ï¼š<code>int x = nullableButNotNullInt!</code></p>
<p>1.4 å¦‚æœä½ æƒ³è¦æ˜¾å¼åœ°å£°æ˜å…è®¸ä»»æ„ç±»å‹ï¼Œä½¿ç”¨ <code>Object?</code>ï¼ˆå¦‚æœä½  <a target="_blank" rel="noopener" href="https://dart.cn/null-safety#enable-null-safety">å¼€å¯äº†ç©ºå®‰å…¨</a>ï¼‰ã€ <code>Object</code> æˆ–è€… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/effective-dart/design#avoid-using-dynamic-unless-you-want-to-disable-static-checking">ç‰¹æ®Šç±»å‹ <code>dynamic</code></a> å°†æ£€æŸ¥å»¶è¿Ÿåˆ°è¿è¡Œæ—¶è¿›è¡Œã€‚</p>
<p>1.5 Dart æ”¯æŒæ³›å‹ï¼Œæ¯”å¦‚ <code>List&lt;int&gt;</code>ï¼ˆè¡¨ç¤ºä¸€ç»„ç”± int å¯¹è±¡ç»„æˆçš„åˆ—è¡¨ï¼‰æˆ– <code>List&lt;Object&gt;</code>ï¼ˆè¡¨ç¤ºä¸€ç»„ç”±ä»»ä½•ç±»å‹å¯¹è±¡ç»„æˆçš„åˆ—è¡¨ï¼‰ã€‚</p>
<p>1.6  Dart æ”¯æŒé¡¶çº§å‡½æ•°ï¼ˆä¾‹å¦‚ <code>main</code> æ–¹æ³•ï¼‰ï¼ŒåŒæ—¶è¿˜æ”¯æŒå®šä¹‰å±äºç±»æˆ–å¯¹è±¡çš„å‡½æ•°ï¼ˆå³ <em>é™æ€</em> å’Œ <em>å®ä¾‹æ–¹æ³•</em>ï¼‰ã€‚ä½ è¿˜å¯ä»¥åœ¨å‡½æ•°ä¸­å®šä¹‰å‡½æ•°ï¼ˆ<em>åµŒå¥—</em> æˆ– <em>å±€éƒ¨å‡½æ•°</em>ï¼‰ã€‚</p>
<p>1.7 Dart æ”¯æŒé¡¶çº§ <strong>å˜é‡</strong>ï¼Œä»¥åŠå®šä¹‰å±äºç±»æˆ–å¯¹è±¡çš„å˜é‡ï¼ˆé™æ€å’Œå®ä¾‹å˜é‡ï¼‰ã€‚å®ä¾‹å˜é‡æœ‰æ—¶ç§°ä¹‹ä¸ºåŸŸæˆ–å±æ€§ã€‚</p>
<p>1.8 Dart æ²¡æœ‰ç±»ä¼¼äº Java é‚£æ ·çš„ <code>public</code>ã€<code>protected</code> å’Œ <code>private</code> æˆå‘˜è®¿é—®é™å®šç¬¦ã€‚å¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦ä»¥ä¸‹åˆ’çº¿ (<code>_</code>) å¼€å¤´åˆ™è¡¨ç¤ºè¯¥æ ‡è¯†ç¬¦åœ¨åº“å†…æ˜¯ç§æœ‰çš„ã€‚å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#libraries-and-visibility">åº“å’Œå¯è§æ€§</a> è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p>
<p>1.9 <em>æ ‡è¯†ç¬¦</em> å¯ä»¥ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ (<code>_</code>) å¼€å¤´ï¼Œå…¶åå¯è·Ÿå­—ç¬¦å’Œæ•°å­—çš„ç»„åˆã€‚</p>
<p>1.10 Dart ä¸­ <strong>è¡¨è¾¾å¼</strong> å’Œ <strong>è¯­å¥</strong> æ˜¯æœ‰åŒºåˆ«çš„ï¼Œè¡¨è¾¾å¼æœ‰å€¼è€Œè¯­å¥æ²¡æœ‰ã€‚æ¯”å¦‚<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#conditional-expressions">æ¡ä»¶è¡¨è¾¾å¼</a> <code>expression condition ? expr1 : expr2</code> ä¸­å«æœ‰å€¼ <code>expr1</code> æˆ– <code>expr2</code>ã€‚ä¸ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#if-and-else">if-else åˆ†æ”¯è¯­å¥</a>ç›¸æ¯”ï¼Œ<code>if-else</code> åˆ†æ”¯è¯­å¥åˆ™æ²¡æœ‰å€¼ã€‚ä¸€ä¸ªè¯­å¥é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ä¸èƒ½åªåŒ…å«ä¸€ä¸ªè¯­å¥ã€‚</p>
<p>1.11 Dart å·¥å…·å¯ä»¥æ˜¾ç¤º <strong>è­¦å‘Š</strong> å’Œ <strong>é”™è¯¯</strong> ä¸¤ç§ç±»å‹çš„é—®é¢˜ã€‚è­¦å‘Šè¡¨æ˜ä»£ç å¯èƒ½æœ‰é—®é¢˜ä½†ä¸ä¼šé˜»æ­¢å…¶è¿è¡Œã€‚é”™è¯¯åˆ†ä¸ºç¼–è¯‘æ—¶é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯ï¼›ç¼–è¯‘æ—¶é”™è¯¯ä»£ç æ— æ³•è¿è¡Œï¼›è¿è¡Œæ—¶é”™è¯¯ä¼šåœ¨ä»£ç è¿è¡Œæ—¶å¯¼è‡´ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#exceptions">å¼‚å¸¸</a>ã€‚</p>
<h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;Bob&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å˜é‡ä»…å­˜å‚¨å¯¹è±¡çš„å¼•ç”¨ã€‚è¿™é‡Œåä¸º <code>name</code> çš„å˜é‡å­˜å‚¨äº†ä¸€ä¸ª <code>String</code> ç±»å‹å¯¹è±¡çš„å¼•ç”¨ï¼Œâ€œBobâ€ åˆ™æ˜¯è¯¥å¯¹è±¡çš„å€¼ã€‚</p>
<p><code>name</code> å˜é‡çš„ç±»å‹è¢«æ¨æ–­ä¸º <code>String</code>ï¼Œä½†æ˜¯ä½ å¯ä»¥ä¸ºå…¶æŒ‡å®šç±»å‹ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸å±€é™äºå•ä¸€çš„ç±»å‹ï¼Œå¯ä»¥å°†å…¶æŒ‡å®šä¸º <code>Object</code>ï¼ˆæˆ– <code>dynamic</code>ï¼‰ç±»å‹ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span> name = <span class="string">&#x27;Bob&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>é™¤æ­¤ä¹‹å¤–ä½ ä¹Ÿå¯ä»¥æŒ‡å®šç±»å‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> name = <span class="string">&#x27;Bob&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h5 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h5><p>åœ¨ Dart ä¸­ï¼Œæœªåˆå§‹åŒ–çš„å˜é‡æ‹¥æœ‰ä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–å€¼ï¼š<code>null</code>ã€‚ï¼ˆå¦‚æœä½ æœªè¿ç§»è‡³ <a target="_blank" rel="noopener" href="https://dart.cn/null-safety">ç©ºå®‰å…¨</a>ï¼Œæ‰€æœ‰å˜é‡éƒ½ä¸ºå¯ç©ºç±»å‹ã€‚ï¼‰å³ä¾¿æ•°å­—ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºåœ¨ Dart ä¸­ä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œæ•°å­—ä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int?</span> lineCount;</span><br><span class="line"><span class="keyword">assert</span>(lineCount == <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">assert() çš„è°ƒç”¨å°†ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ä¸­è¢«å¿½ç•¥æ‰ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œassert(condition) å°†ä¼šåœ¨ æ¡ä»¶åˆ¤æ–­ ä¸º false æ—¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚è¯¦æƒ…è¯·æŸ¥é˜… Assertã€‚</span><br></pre></td></tr></table></figure>



<p>å¦‚æœä½ ä½¿ç”¨ç©ºå®‰å…¨ï¼Œä½ å¿…é¡»åœ¨ä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œç¡®ä¿ä»–ä»¬æ˜¯éç©ºçš„ã€‚</p>
<h5 id="Late-å˜é‡"><a href="#Late-å˜é‡" class="headerlink" title="Late å˜é‡"></a>Late å˜é‡</h5><p>Dart 2.12æ·»åŠ äº†lateä¿®é¥°ç¬¦ï¼Œå®ƒæœ‰ä¸¤ä¸ªç”¨ä¾‹:</p>
<p>å£°æ˜ä¸€ä¸ªåœ¨å£°æ˜ååˆå§‹åŒ–çš„éç©ºå˜é‡ã€‚<br>å»¶è¿Ÿåˆå§‹åŒ–å˜é‡ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">late</span> <span class="built_in">String</span> description;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  description = <span class="string">&#x27;Feijoada!&#x27;</span>;</span><br><span class="line">  <span class="built_in">print</span>(description);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p> If you fail to initialize a <code>late</code> variable, a runtime error occurs when the variable is used.</p>
<p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨late:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The variable might not be needed, and initializing it is costly.</span><br><span class="line">Youâ€™re initializing an instance variable, and its initializer needs access to this.</span><br></pre></td></tr></table></figure>



<p>In the following example, if the <code>temperature</code> variable is never used, then the expensive <code>_readThermometer()</code> function is never called:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This is the program&#x27;s only call to _readThermometer().</span></span><br><span class="line"><span class="keyword">late</span> <span class="built_in">String</span> temperature = _readThermometer(); <span class="comment">// Lazily initialized.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="Final-å’Œ-Const"><a href="#Final-å’Œ-Const" class="headerlink" title="Final å’Œ Const"></a>Final å’Œ Const</h5><p>å¦‚æœä½ ä¸æƒ³æ›´æ”¹ä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®ä¹‹final æˆ–è€… const ä¿®é¥°å˜é‡ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—å¯ä»¥æ›¿ä»£varå…³é”®å­—æˆ–è€…åŠ åœ¨ä¸€ä¸ªå…·ä½“çš„ç±»å‹å‰ã€‚ä¸€ä¸ªfinalå˜é‡åªå¯ä»¥è¢«èµ‹å€¼ä¸€æ¬¡ï¼›ä¸€ä¸ªconstå˜é‡æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼ˆconstå˜é‡åŒæ—¶ä¹Ÿæ˜¯finalçš„ï¼‰ã€‚é¡¶å±‚çš„finalå˜é‡æˆ–è€…ç±»çš„final å˜é‡åœ¨å…¶ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™è¢«åˆå§‹åŒ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">å®ä¾‹å˜é‡ å¯ä»¥æ˜¯ final çš„ä½†ä¸å¯ä»¥æ˜¯ const.</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢çš„ç¤ºä¾‹ä¸­æˆ‘ä»¬åˆ›å»ºå¹¶è®¾ç½®ä¸¤ä¸ª final å˜é‡:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> name = <span class="string">&#x27;Bob&#x27;</span>; <span class="comment">// Without a type annotation</span></span><br><span class="line"><span class="keyword">final</span> <span class="built_in">String</span> nickname = <span class="string">&#x27;Bobby&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ä½ ä¸èƒ½ä¿®æ”¹ä¸€ä¸ª final å˜é‡çš„å€¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;Alice&#x27;</span>; <span class="comment">// Error: a final variable can only be set once.</span></span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨å…³é”®å­— const ä¿®é¥°å˜é‡è¡¨ç¤ºè¯¥å˜é‡ä¸º ç¼–è¯‘æ—¶å¸¸é‡ã€‚ å¦‚æœä½¿ç”¨ const ä¿®é¥°ç±»ä¸­çš„ å˜é‡ï¼Œåˆ™å¿…é¡»åŠ ä¸Šstaticå…³é”®å­—ï¼Œå³ å³ <code>static const</code>ï¼ˆé¡ºåºä¸èƒ½é¢ å€’ï¼‰ã€‚åœ¨å£°æ˜ const å˜é‡æ—¶å¯ä»¥ç›´æ¥ä¸ºå…¶èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒçš„ const å˜é‡ä¸ºå…¶èµ‹å€¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = <span class="number">1000000</span>; <span class="comment">// ç›´æ¥èµ‹å€¼ [Unit of pressure (dynes/cm2)]</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> atm = <span class="number">1.01325</span> * bar; <span class="comment">// åˆ©ç”¨å…¶å®ƒ const å˜é‡èµ‹å€¼ (Standard atmosphere)</span></span><br></pre></td></tr></table></figure>



<p><code>const</code> å…³é”®å­—ä¸ä»…ä»…å¯ä»¥ç”¨æ¥å®šä¹‰å¸¸é‡ï¼Œè¿˜å¯ä»¥ç”¨æ¥åˆ›å»º <strong>å¸¸é‡å€¼</strong>ï¼Œè¯¥å¸¸é‡å€¼å¯ä»¥èµ‹äºˆç»™ä»»ä½•å˜é‡ã€‚ä½ ä¹Ÿå¯ä»¥å°†æ„é€ å‡½æ•°å£°æ˜ä¸º const çš„ï¼Œè¿™ç§ç±»å‹çš„æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸å¯æ”¹å˜çš„ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="keyword">const</span> [];</span><br><span class="line"><span class="keyword">final</span> bar = <span class="keyword">const</span> [];</span><br><span class="line"><span class="keyword">const</span> baz = []; <span class="comment">// ç›¸å½“äº `const []` (Equivalent to `const []`)</span></span><br></pre></td></tr></table></figure>



<h4 id="å†…ç½®ç±»å‹"><a href="#å†…ç½®ç±»å‹" class="headerlink" title="å†…ç½®ç±»å‹"></a>å†…ç½®ç±»å‹</h4><p>Dart è¯­è¨€æ”¯æŒä¸‹åˆ—å†…å®¹ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#numbers">Numbers</a> (<code>int</code>, <code>double</code>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#strings">Strings</a> (<code>String</code>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#booleans">Booleans</a> (<code>bool</code>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#lists">Lists</a> (ä¹Ÿè¢«ç§°ä¸º <em>arrays</em>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#sets">Sets</a> (<code>Set</code>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#maps">Maps</a> (<code>Map</code>)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#characters">Runes</a> (å¸¸ç”¨äºåœ¨ <code>Characters</code> API ä¸­è¿›è¡Œå­—ç¬¦æ›¿æ¢)</li>
<li><a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#symbols">Symbols</a> (<code>Symbol</code>)</li>
<li>The value <code>null</code> (<code>Null</code>)</li>
</ul>
<p>ä½¿ç”¨å­—é¢é‡æ¥åˆ›å»ºå¯¹è±¡ä¹Ÿå—åˆ°æ”¯æŒã€‚ä¾‹å¦‚ <code>&#39;This is a string&#39;</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œ<code>true</code> æ˜¯ä¸€ä¸ªå¸ƒå°”å­—é¢é‡ã€‚</p>
<p>ç”±äº Dart ä¸­æ¯ä¸ªå˜é‡å¼•ç”¨éƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸€ä¸ª <strong>ç±»</strong> çš„å®ä¾‹ï¼‰ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>æ„é€ å™¨</strong> æ¥åˆå§‹åŒ–å˜é‡ã€‚ä¸€äº›å†…ç½®çš„ç±»å‹æœ‰å®ƒä»¬è‡ªå·±çš„æ„é€ å™¨ã€‚ä¾‹å¦‚ä½ å¯ä»¥ä½¿ç”¨ <code>Map()</code> æ¥åˆ›å»ºä¸€ä¸ª map å¯¹è±¡ã€‚</p>
<h3 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h3><p>Dart æ”¯æŒä¸¤ç§ Number ç±»å‹ï¼š</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/int-class.html"><code>int</code></a></p>
<p>æ•´æ•°å€¼ï¼›é•¿åº¦ä¸è¶…è¿‡ 64 ä½ï¼Œå…·ä½“å–å€¼èŒƒå›´ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/numbers">ä¾èµ–äºä¸åŒçš„å¹³å°</a>ã€‚åœ¨ DartVM ä¸Šå…¶å–å€¼ä½äº -263 è‡³ 263 - 1 ä¹‹é—´ã€‚åœ¨ Web ä¸Šï¼Œæ•´å‹æ•°å€¼ä»£è¡¨ç€ JavaScript çš„æ•°å­—ï¼ˆ64 ä½æ— å°æ•°æµ®ç‚¹å‹ï¼‰ï¼Œå…¶å…è®¸çš„å–å€¼èŒƒå›´åœ¨ -253 è‡³ 253 - 1 ä¹‹é—´ã€‚</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/double-class.html"><code>double</code></a></p>
<p>64 ä½çš„åŒç²¾åº¦æµ®ç‚¹æ•°å­—ï¼Œä¸”ç¬¦åˆ IEEE 754 æ ‡å‡†ã€‚</p>
</li>
</ul>
<p><code>int</code> å’Œ <code>double</code> éƒ½æ˜¯ [<code>num</code>][num] çš„å­ç±»ã€‚ num ä¸­å®šä¹‰äº†ä¸€äº›åŸºæœ¬çš„è¿ç®—ç¬¦æ¯”å¦‚ +ã€-ã€*ã€/ ç­‰ï¼Œè¿˜å®šä¹‰äº† <code>abs()</code>ã€<code>ceil()</code> å’Œ <code>floor()</code> ç­‰æ–¹æ³•ï¼ˆä½è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ &gt;&gt; å®šä¹‰åœ¨ int ä¸­ï¼‰ã€‚å¦‚æœ num åŠå…¶å­ç±»ä¸æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œå¯ä»¥æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-math">dart:math</a> åº“ä¸­çš„ APIã€‚</p>
<p>ä¸‹é¢æ˜¯å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´è½¬æ¢çš„æ–¹å¼:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String -&gt; int</span></span><br><span class="line"><span class="keyword">var</span> one = <span class="built_in">int</span>.parse(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">assert</span>(one == <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String -&gt; double</span></span><br><span class="line"><span class="keyword">var</span> onePointOne = <span class="built_in">double</span>.parse(<span class="string">&#x27;1.1&#x27;</span>);</span><br><span class="line"><span class="keyword">assert</span>(onePointOne == <span class="number">1.1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// int -&gt; String</span></span><br><span class="line"><span class="built_in">String</span> oneAsString = <span class="number">1.</span>toString();</span><br><span class="line"><span class="keyword">assert</span>(oneAsString == <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// double -&gt; String</span></span><br><span class="line"><span class="built_in">String</span> piAsString = <span class="number">3.14159</span>.toStringAsFixed(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">assert</span>(piAsString == <span class="string">&#x27;3.14&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>æ•´å‹æ”¯æŒä¼ ç»Ÿçš„ä½ç§»æ“ä½œï¼Œæ¯”å¦‚ç§»ä½ï¼ˆ&lt;&lt;ã€&gt;&gt;ï¼‰ã€æŒ‰ä½ä¸ï¼ˆ&amp;ï¼‰ã€æŒ‰ä½æˆ–ï¼ˆ|ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>((<span class="number">3</span> &lt;&lt; <span class="number">1</span>) == <span class="number">6</span>); <span class="comment">// 0011 &lt;&lt; 1 == 0110</span></span><br><span class="line"><span class="keyword">assert</span>((<span class="number">3</span> &gt;&gt; <span class="number">1</span>) == <span class="number">1</span>); <span class="comment">// 0011 &gt;&gt; 1 == 0001</span></span><br><span class="line"><span class="keyword">assert</span>((<span class="number">3</span> | <span class="number">4</span>) == <span class="number">7</span>); <span class="comment">// 0011 | 0100 == 0111</span></span><br></pre></td></tr></table></figure>



<p>æ•°å­—å­—é¢é‡ä¸ºç¼–è¯‘æ—¶å¸¸é‡ã€‚å¾ˆå¤šç®—æœ¯è¡¨è¾¾å¼åªè¦å…¶æ“ä½œæ•°æ˜¯å¸¸é‡ï¼Œåˆ™è¡¨è¾¾å¼ç»“æœä¹Ÿæ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> msPerSecond = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">const</span> secondsUntilRetry = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> msUntilRetry = secondsUntilRetry * msPerSecond;</span><br></pre></td></tr></table></figure>



<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>Dart å­—ç¬¦ä¸²ï¼ˆ<code>String</code> å¯¹è±¡ï¼‰åŒ…å«äº† UTF-16 ç¼–ç çš„å­—ç¬¦åºåˆ—ã€‚å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;Single quotes work well for string literals.&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">&quot;Double quotes work just as well.&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> s3 = <span class="string">&#x27;It\&#x27;s easy to escape the string delimiter.&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> s4 = <span class="string">&quot;It&#x27;s even easier to use the other delimiter.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç ä¸­æ–‡è§£é‡Š</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;ä½¿ç”¨å•å¼•å·åˆ›å»ºå­—ç¬¦ä¸²å­—é¢é‡ã€‚&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">&quot;åŒå¼•å·ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºå­—ç¬¦ä¸²å­—é¢é‡ã€‚&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> s3 = <span class="string">&#x27;ä½¿ç”¨å•å¼•å·åˆ›å»ºå­—ç¬¦ä¸²æ—¶å¯ä»¥ä½¿ç”¨æ–œæ æ¥è½¬ä¹‰é‚£äº›ä¸å•å¼•å·å†²çªçš„å­—ç¬¦ä¸²ï¼š\&#x27;ã€‚&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> s4 = <span class="string">&quot;è€Œåœ¨åŒå¼•å·ä¸­åˆ™ä¸éœ€è¦ä½¿ç”¨è½¬ä¹‰ä¸å•å¼•å·å†²çªçš„å­—ç¬¦ä¸²ï¼š&#x27;&quot;</span>;</span><br></pre></td></tr></table></figure>



<p>åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œè¯·ä»¥ <code>$&#123;</code><em><code>è¡¨è¾¾å¼</code></em><code>&#125;</code> çš„å½¢å¼ä½¿ç”¨è¡¨è¾¾å¼ï¼Œå¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¯ä»¥çœç•¥æ‰ {}ã€‚å¦‚æœè¡¨è¾¾å¼çš„ç»“æœä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ Dart ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ <code>toString</code> æ–¹æ³•æ¥è·å–ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">&#x27;string interpolation&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(<span class="string">&#x27;Dart has <span class="subst">$s</span>, which is very handy.&#x27;</span> ==</span><br><span class="line">    <span class="string">&#x27;Dart has string interpolation, &#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;which is very handy.&#x27;</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">&#x27;That deserves all caps. &#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;<span class="subst">$&#123;s.toUpperCase()&#125;</span> is very handy!&#x27;</span> ==</span><br><span class="line">    <span class="string">&#x27;That deserves all caps. &#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;STRING INTERPOLATION is very handy!&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç ä¸­æ–‡è§£é‡Š</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">&#x27;å­—ç¬¦ä¸²æ’å€¼&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(<span class="string">&#x27;Dart æœ‰<span class="subst">$s</span>ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚&#x27;</span> == <span class="string">&#x27;Dart æœ‰å­—ç¬¦ä¸²æ’å€¼ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚&#x27;</span>);</span><br><span class="line"><span class="keyword">assert</span>(<span class="string">&#x27;ä½¿ç”¨<span class="subst">$&#123;s.substring(<span class="number">3</span>,<span class="number">5</span>)&#125;</span>è¡¨è¾¾å¼ä¹Ÿéå¸¸æ–¹ä¾¿&#x27;</span> == <span class="string">&#x27;ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚&#x27;</span>);</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D; è¿ç®—ç¬¦è´Ÿè´£åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«ä¸€æ ·çš„å­—ç¬¦ç¼–ç åºåˆ—ï¼Œåˆ™è¡¨ç¤ºç›¸ç­‰ã€‚</span><br></pre></td></tr></table></figure>



<p>ä½ å¯ä»¥ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦æˆ–å¹¶åˆ—æ”¾ç½®å¤šä¸ªå­—ç¬¦ä¸²æ¥è¿æ¥å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;String &#x27;</span></span><br><span class="line">    <span class="string">&#x27;concatenation&#x27;</span></span><br><span class="line">    <span class="string">&quot; works even over line breaks.&quot;</span>;</span><br><span class="line"><span class="keyword">assert</span>(s1 ==</span><br><span class="line">    <span class="string">&#x27;String concatenation works even over &#x27;</span></span><br><span class="line">        <span class="string">&#x27;line breaks.&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">&#x27;The + operator &#x27;</span> + <span class="string">&#x27;works, as well.&#x27;</span>;</span><br><span class="line"><span class="keyword">assert</span>(s2 == <span class="string">&#x27;The + operator works, as well.&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç ä¸­æ–‡è§£é‡Š</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;å¯ä»¥æ‹¼æ¥&#x27;</span></span><br><span class="line">    <span class="string">&#x27;å­—ç¬¦ä¸²&#x27;</span></span><br><span class="line">    <span class="string">&quot;å³ä¾¿å®ƒä»¬ä¸åœ¨åŒä¸€è¡Œã€‚&quot;</span>;</span><br><span class="line"><span class="keyword">assert</span>(s1 == <span class="string">&#x27;å¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²å³ä¾¿å®ƒä»¬ä¸åœ¨åŒä¸€è¡Œã€‚&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">&#x27;ä½¿ç”¨åŠ å· + è¿ç®—ç¬¦&#x27;</span> + <span class="string">&#x27;ä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœã€‚&#x27;</span>;</span><br><span class="line"><span class="keyword">assert</span>(s2 == <span class="string">&#x27;ä½¿ç”¨åŠ å· + è¿ç®—ç¬¦ä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœã€‚&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨ä¸‰ä¸ªå•å¼•å·æˆ–è€…ä¸‰ä¸ªåŒå¼•å·ä¹Ÿèƒ½åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">ä½ å¯ä»¥åƒè¿™æ ·åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="string">&quot;&quot;&quot;è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²ã€‚&quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>



<p>åœ¨å­—ç¬¦ä¸²å‰åŠ ä¸Š <code>r</code> ä½œä¸ºå‰ç¼€åˆ›å»º â€œrawâ€ å­—ç¬¦ä¸²ï¼ˆå³ä¸ä¼šè¢«åšä»»ä½•å¤„ç†ï¼ˆæ¯”å¦‚è½¬ä¹‰ï¼‰çš„å­—ç¬¦ä¸²ï¼‰ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">r&#x27;In a raw string, not even \n gets special treatment.&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç ä¸­æ–‡è§£é‡Š</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">r&#x27;åœ¨ raw å­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰å­—ç¬¦ä¸² \n ä¼šç›´æ¥è¾“å‡º â€œ\nâ€ è€Œä¸æ˜¯è½¬ä¹‰ä¸ºæ¢è¡Œã€‚&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œåªè¦æ˜¯ç¼–è¯‘æ—¶å¸¸é‡éƒ½å¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²å­—é¢é‡çš„æ’å€¼è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯ä»¥å°†ä¸‹é¢ä¸‰ä¸ªå¸¸é‡ä½œä¸ºå­—ç¬¦ä¸²æ’å€¼æ‹¼æ¥åˆ°å­—ç¬¦ä¸²å­—é¢é‡ä¸­ã€‚(These work in a const string.)</span></span><br><span class="line"><span class="keyword">const</span> aConstNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> aConstBool = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">const</span> aConstString = <span class="string">&#x27;a constant string&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€Œä¸‹é¢ä¸‰ä¸ªå¸¸é‡ä¸èƒ½ä½œä¸ºå­—ç¬¦ä¸²æ’å€¼æ‹¼æ¥åˆ°å­—ç¬¦ä¸²å­—é¢é‡ã€‚</span></span><br><span class="line"><span class="keyword">var</span> aNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> aBool = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">var</span> aString = <span class="string">&#x27;a string&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> aConstList = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> validConstString = <span class="string">&#x27;<span class="subst">$aConstNum</span> <span class="subst">$aConstBool</span> <span class="subst">$aConstString</span>&#x27;</span>;</span><br><span class="line"><span class="comment">// const invalidConstString = &#x27;$aNum $aBool $aString $aConstList&#x27;;</span></span><br></pre></td></tr></table></figure>





<h3 id="Booleans"><a href="#Booleans" class="headerlink" title="Booleans"></a>Booleans</h3><p>Dart ä½¿ç”¨ <code>bool</code> å…³é”®å­—è¡¨ç¤ºå¸ƒå°”ç±»å‹ï¼Œå¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå¯¹è±¡ <code>true</code> å’Œ <code>false</code>ï¼Œä¸¤è€…éƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>
<p>Dart çš„ç±»å‹å®‰å…¨ä¸å…è®¸ä½ ä½¿ç”¨ç±»ä¼¼ <code>if (*nonbooleanValue*)</code> æˆ–è€… <code>assert (*nonbooleanValue*)</code> è¿™æ ·çš„ä»£ç æ£€æŸ¥å¸ƒå°”å€¼ã€‚ç›¸åï¼Œä½ åº”è¯¥æ€»æ˜¯æ˜¾ç¤ºåœ°æ£€æŸ¥å¸ƒå°”å€¼ï¼Œæ¯”å¦‚åƒä¸‹é¢çš„ä»£ç è¿™æ ·ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸² (Check for an empty string).</span></span><br><span class="line"><span class="keyword">var</span> fullName = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">assert</span>(fullName.isEmpty);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦å°äºç­‰äºé›¶ã€‚</span></span><br><span class="line"><span class="keyword">var</span> hitPoints = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">assert</span>(hitPoints &lt;= <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦ä¸º nullã€‚</span></span><br><span class="line"><span class="keyword">var</span> unicorn;</span><br><span class="line"><span class="keyword">assert</span>(unicorn == <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦ä¸º NaNã€‚</span></span><br><span class="line"><span class="keyword">var</span> iMeantToDoThis = <span class="number">0</span> / <span class="number">0</span>;</span><br><span class="line"><span class="keyword">assert</span>(iMeantToDoThis.isNaN);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>æ•°ç»„ (<strong>Array</strong>) æ˜¯å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸è§çš„é›†åˆç±»å‹ï¼Œåœ¨ Dart ä¸­æ•°ç»„ç”± <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/List-class.html"><code>List</code></a> å¯¹è±¡è¡¨ç¤ºã€‚é€šå¸¸ç§°ä¹‹ä¸º <strong>List</strong>ã€‚</p>
<p>Dart ä¸­ List å­—é¢é‡çœ‹èµ·æ¥ä¸ JavaScript ä¸­æ•°ç»„å­—é¢é‡ä¸€æ ·ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª Dart List çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>



<p>ä½ å¯ä»¥åœ¨ Dart çš„é›†åˆç±»å‹çš„æœ€åä¸€ä¸ªé¡¹ç›®åæ·»åŠ é€—å·ã€‚è¿™ä¸ªå°¾éšé€—å·å¹¶ä¸ä¼šå½±å“é›†åˆï¼Œä½†å®ƒèƒ½æœ‰æ•ˆé¿å…ã€Œå¤åˆ¶ç²˜è´´ã€çš„é”™è¯¯ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [</span><br><span class="line">  <span class="string">&#x27;Car&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Boat&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Plane&#x27;</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>



<p>List çš„ä¸‹æ ‡ç´¢å¼•ä» 0 å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ä¸º 0ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ä¸º <code>list.length - 1</code>ã€‚ä½ å¯ä»¥åƒ JavaScript ä¸­çš„ç”¨æ³•é‚£æ ·è·å– Dart ä¸­ List çš„é•¿åº¦ä»¥åŠå…ƒç´ ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">assert</span>(list.length == <span class="number">3</span>);</span><br><span class="line"><span class="keyword">assert</span>(list[<span class="number">1</span>] == <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">list[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">assert</span>(list[<span class="number">1</span>] == <span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<p>åœ¨ List å­—é¢é‡å‰æ·»åŠ  <code>const</code> å…³é”®å­—ä¼šåˆ›å»ºä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> constantList = <span class="keyword">const</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>



<p>Dart åœ¨ 2.3 å¼•å…¥äº† <strong>æ‰©å±•æ“ä½œç¬¦</strong>ï¼ˆ<code>...</code>ï¼‰å’Œ <strong>ç©ºæ„ŸçŸ¥æ‰©å±•æ“ä½œç¬¦</strong>ï¼ˆ<code>...?</code>ï¼‰ï¼Œå®ƒä»¬æä¾›äº†ä¸€ç§å°†å¤šä¸ªå…ƒç´ æ’å…¥é›†åˆçš„ç®€æ´æ–¹æ³•ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ï¼ˆ<code>...</code>ï¼‰å°†ä¸€ä¸ª List ä¸­çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ª List ä¸­ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> list2 = [<span class="number">0</span>, ...list];</span><br><span class="line"><span class="keyword">assert</span>(list2.length == <span class="number">4</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å¦‚æœæ‰©å±•æ“ä½œç¬¦å³è¾¹å¯èƒ½ä¸º null ï¼Œä½ å¯ä»¥ä½¿ç”¨ null-aware æ‰©å±•æ“ä½œç¬¦ï¼ˆ<code>...?</code>ï¼‰æ¥é¿å…äº§ç”Ÿå¼‚å¸¸ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list;</span><br><span class="line"><span class="keyword">var</span> list2 = [<span class="number">0</span>, ...?list];</span><br><span class="line"><span class="keyword">assert</span>(list2.length == <span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<p>Dart è¿˜åŒæ—¶å¼•å…¥äº† <strong>é›†åˆä¸­çš„ if</strong> å’Œ <strong>é›†åˆä¸­çš„ for</strong> æ“ä½œï¼Œåœ¨æ„å»ºé›†åˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ (<code>if</code>) å’Œå¾ªç¯ (<code>for</code>)ã€‚</p>
<p>ä¸‹é¢ç¤ºä¾‹æ˜¯ä½¿ç”¨ <strong>é›†åˆä¸­çš„ if</strong> æ¥åˆ›å»ºä¸€ä¸ª List çš„ç¤ºä¾‹ï¼Œå®ƒå¯èƒ½åŒ…å« 3 ä¸ªæˆ– 4 ä¸ªå…ƒç´ ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nav = [</span><br><span class="line">  <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Furniture&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Plants&#x27;</span>,</span><br><span class="line">  <span class="keyword">if</span> (promoActive) <span class="string">&#x27;Outlet&#x27;</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ä½¿ç”¨ <strong>é›†åˆä¸­çš„ for</strong> å°†åˆ—è¡¨ä¸­çš„å…ƒç´ ä¿®æ”¹åæ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ä¸­çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> listOfInts = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> listOfStrings = [</span><br><span class="line">  <span class="string">&#x27;#0&#x27;</span>,</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> listOfInts) <span class="string">&#x27;#<span class="subst">$i</span>&#x27;</span></span><br><span class="line">];</span><br><span class="line"><span class="keyword">assert</span>(listOfStrings[<span class="number">1</span>] == <span class="string">&#x27;#1&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p>åœ¨ Dart ä¸­ï¼Œset æ˜¯ä¸€ç»„ç‰¹å®šå…ƒç´ çš„æ— åºé›†åˆã€‚ Dart æ”¯æŒçš„é›†åˆç”±é›†åˆçš„å­—é¢é‡å’Œ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Set-class.html"><code>Set</code></a> ç±»æä¾›ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ Set å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ª Set é›†åˆçš„æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> halogens = &#123;<span class="string">&#x27;fluorine&#x27;</span>, <span class="string">&#x27;chlorine&#x27;</span>, <span class="string">&#x27;bromine&#x27;</span>, <span class="string">&#x27;iodine&#x27;</span>, <span class="string">&#x27;astatine&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>



<p>å¯ä»¥ä½¿ç”¨åœ¨ <code>&#123;&#125;</code> å‰åŠ ä¸Šç±»å‹å‚æ•°çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªç©ºçš„ Setï¼Œæˆ–è€…å°† <code>&#123;&#125;</code> èµ‹å€¼ç»™ä¸€ä¸ª Set ç±»å‹çš„å˜é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;&#123;&#125;; <span class="comment">// ç±»å‹+&#123;&#125;çš„å½¢å¼åˆ›å»ºSetã€‚</span></span><br><span class="line"><span class="comment">// Set&lt;String&gt; names = &#123;&#125;; // å£°æ˜ç±»å‹å˜é‡çš„å½¢å¼åˆ›å»º Set (This works, too).</span></span><br><span class="line"><span class="comment">// var names = &#123;&#125;; // è¿™æ ·çš„å½¢å¼å°†åˆ›å»ºä¸€ä¸ª Map è€Œä¸æ˜¯ Set (Creates a map, not a set.)</span></span><br></pre></td></tr></table></figure>



<p><strong>Set è¿˜æ˜¯ map?</strong> Map å­—é¢é‡è¯­æ³•ç›¸ä¼¼äº Set å­—é¢é‡è¯­æ³•ã€‚å› ä¸ºå…ˆæœ‰çš„ Map å­—é¢é‡è¯­æ³•ï¼Œæ‰€ä»¥ <code>&#123;&#125;</code> é»˜è®¤æ˜¯ <code>Map</code> ç±»å‹ã€‚å¦‚æœå¿˜è®°åœ¨ <code>&#123;&#125;</code> ä¸Šæ³¨é‡Šç±»å‹æˆ–èµ‹å€¼åˆ°ä¸€ä¸ªæœªå£°æ˜ç±»å‹çš„å˜é‡ä¸Šï¼Œé‚£ä¹ˆ Dart ä¼šåˆ›å»ºä¸€ä¸ªç±»å‹ä¸º <code>Map&lt;dynamic, dynamic&gt;</code> çš„å¯¹è±¡ã€‚</p>
<p>ä½¿ç”¨ <code>add()</code> æ–¹æ³•æˆ– <code>addAll()</code> æ–¹æ³•å‘å·²å­˜åœ¨çš„ Set ä¸­æ·»åŠ é¡¹ç›®ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = &lt;<span class="built_in">String</span>&gt;&#123;&#125;;</span><br><span class="line">elements.add(<span class="string">&#x27;fluorine&#x27;</span>);</span><br><span class="line">elements.addAll(halogens);</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨ <code>.length</code> å¯ä»¥è·å– Set ä¸­å…ƒç´ çš„æ•°é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = &lt;<span class="built_in">String</span>&gt;&#123;&#125;;</span><br><span class="line">elements.add(<span class="string">&#x27;fluorine&#x27;</span>);</span><br><span class="line">elements.addAll(halogens);</span><br><span class="line"><span class="keyword">assert</span>(elements.length == <span class="number">5</span>);</span><br></pre></td></tr></table></figure>



<p>å¯ä»¥åœ¨ Set å­—é¢é‡å‰æ·»åŠ  <code>const</code> å…³é”®å­—åˆ›å»ºä¸€ä¸ª Set ç¼–è¯‘æ—¶å¸¸é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> constantSet = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="string">&#x27;fluorine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;chlorine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;bromine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;iodine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;astatine&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// constantSet.add(&#x27;helium&#x27;); // This line will cause an error.</span></span><br></pre></td></tr></table></figure>



<h3 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h3><p>é€šå¸¸æ¥è¯´ï¼ŒMap æ˜¯ç”¨æ¥å…³è” keys å’Œ values çš„å¯¹è±¡ã€‚å…¶ä¸­é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚æ¯ä¸ª <em>é”®</em> åªèƒ½å‡ºç°ä¸€æ¬¡ä½†æ˜¯ <em>å€¼</em> å¯ä»¥é‡å¤å‡ºç°å¤šæ¬¡ã€‚ Dart ä¸­ Map æä¾›äº† Map å­—é¢é‡ä»¥åŠ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Map-class.html"><code>Map</code></a> ç±»å‹ä¸¤ç§å½¢å¼çš„ Mapã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€å¯¹ä½¿ç”¨ Map å­—é¢é‡åˆ›å»º Map çš„ä¾‹å­ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;</span><br><span class="line">  <span class="comment">// é”®:    å€¼</span></span><br><span class="line">  <span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;partridge&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;second&#x27;</span>: <span class="string">&#x27;turtledoves&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;fifth&#x27;</span>: <span class="string">&#x27;golden rings&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nobleGases = &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="string">&#x27;helium&#x27;</span>,</span><br><span class="line">  <span class="number">10</span>: <span class="string">&#x27;neon&#x27;</span>,</span><br><span class="line">  <span class="number">18</span>: <span class="string">&#x27;argon&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Dart å°† <code>gifts</code> å˜é‡çš„ç±»å‹æ¨æ–­ä¸º <code>Map&lt;String, String&gt;</code>ï¼Œè€Œå°† <code>nobleGases</code> çš„ç±»å‹æ¨æ–­ä¸º <code>Map&lt;int, String&gt;</code>ã€‚å¦‚æœä½ å‘è¿™ä¸¤ä¸ª Map å¯¹è±¡ä¸­æ·»åŠ ä¸æ­£ç¡®çš„ç±»å‹å€¼ï¼Œå°†å¯¼è‡´è¿è¡Œæ—¶å¼‚å¸¸ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Map çš„æ„é€ å™¨åˆ›å»º Mapï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt;();</span><br><span class="line">gifts[<span class="string">&#x27;first&#x27;</span>] = <span class="string">&#x27;partridge&#x27;</span>;</span><br><span class="line">gifts[<span class="string">&#x27;second&#x27;</span>] = <span class="string">&#x27;turtledoves&#x27;</span>;</span><br><span class="line">gifts[<span class="string">&#x27;fifth&#x27;</span>] = <span class="string">&#x27;golden rings&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nobleGases = <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, <span class="built_in">String</span>&gt;();</span><br><span class="line">nobleGases[<span class="number">2</span>] = <span class="string">&#x27;helium&#x27;</span>;</span><br><span class="line">nobleGases[<span class="number">10</span>] = <span class="string">&#x27;neon&#x27;</span>;</span><br><span class="line">nobleGases[<span class="number">18</span>] = <span class="string">&#x27;argon&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p>å‘ç°æœ‰çš„ Map ä¸­æ·»åŠ é”®å€¼å¯¹ä¸ JavaScript çš„æ“ä½œç±»ä¼¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;<span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;partridge&#x27;</span>&#125;;</span><br><span class="line">gifts[<span class="string">&#x27;fourth&#x27;</span>] = <span class="string">&#x27;calling birds&#x27;</span>; <span class="comment">// æ·»åŠ é”®å€¼å¯¹ (Add a key-value pair)</span></span><br></pre></td></tr></table></figure>



<p>ä»ä¸€ä¸ª Map ä¸­è·å–ä¸€ä¸ªå€¼çš„æ“ä½œä¹Ÿä¸ JavaScript ç±»ä¼¼ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;<span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;partridge&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">assert</span>(gifts[<span class="string">&#x27;first&#x27;</span>] == <span class="string">&#x27;partridge&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>å¦‚æœæ£€ç´¢çš„ Key ä¸å­˜åœ¨äº Map ä¸­åˆ™ä¼šè¿”å›ä¸€ä¸ª nullï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;<span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;partridge&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">assert</span>(gifts[<span class="string">&#x27;fifth&#x27;</span>] == <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨ <code>.length</code> å¯ä»¥è·å– Map ä¸­é”®å€¼å¯¹çš„æ•°é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gifts = &#123;<span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;partridge&#x27;</span>&#125;;</span><br><span class="line">gifts[<span class="string">&#x27;fourth&#x27;</span>] = <span class="string">&#x27;calling birds&#x27;</span>;</span><br><span class="line"><span class="keyword">assert</span>(gifts.length == <span class="number">2</span>);</span><br></pre></td></tr></table></figure>



<p>åœ¨ä¸€ä¸ª Map å­—é¢é‡å‰æ·»åŠ  <code>const</code> å…³é”®å­—å¯ä»¥åˆ›å»ºä¸€ä¸ª Map ç¼–è¯‘æ—¶å¸¸é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> constantMap = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="string">&#x27;helium&#x27;</span>,</span><br><span class="line">  <span class="number">10</span>: <span class="string">&#x27;neon&#x27;</span>,</span><br><span class="line">  <span class="number">18</span>: <span class="string">&#x27;argon&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Map å¯ä»¥åƒ List ä¸€æ ·æ”¯æŒä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ï¼ˆ<code>...</code> å’Œ <code>...?</code>ï¼‰ä»¥åŠé›†åˆçš„ if å’Œ for æ“ä½œã€‚</p>
<h3 id="Runes-ä¸-grapheme-clusters"><a href="#Runes-ä¸-grapheme-clusters" class="headerlink" title="Runes ä¸ grapheme clusters"></a>Runes ä¸ grapheme clusters</h3><p>åœ¨ Dart ä¸­ï¼Œ<a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Runes-class.html">runes</a> å…¬å¼€äº†å­—ç¬¦ä¸²çš„ Unicode ç ä½ã€‚ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/packages/characters">characters åŒ…</a> æ¥è®¿é—®æˆ–è€…æ“ä½œç”¨æˆ·æ„ŸçŸ¥çš„å­—ç¬¦ï¼Œä¹Ÿè¢«ç§°ä¸º <a target="_blank" rel="noopener" href="https://unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries">Unicode (æ‰©å±•) grapheme clusters</a>ã€‚</p>
<p>Unicode ç¼–ç ä¸ºæ¯ä¸€ä¸ªå­—æ¯ã€æ•°å­—å’Œç¬¦å·éƒ½å®šä¹‰äº†ä¸€ä¸ªå”¯ä¸€çš„æ•°å€¼ã€‚å› ä¸º Dart ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ª UTF-16 çš„å­—ç¬¦åºåˆ—ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦è¡¨ç¤º 32 ä½çš„ Unicode æ•°å€¼åˆ™éœ€è¦ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ã€‚</p>
<p>è¡¨ç¤º Unicode å­—ç¬¦çš„å¸¸è§æ–¹å¼æ˜¯ä½¿ç”¨ <code>\uXXXX</code>ï¼Œå…¶ä¸­ XXXX æ˜¯ä¸€ä¸ªå››ä½æ•°çš„ 16 è¿›åˆ¶æ•°å­—ã€‚ä¾‹å¦‚å¿ƒå½¢å­—ç¬¦ï¼ˆâ™¥ï¼‰çš„ Unicode ä¸º <code>\u2665</code>ã€‚å¯¹äºä¸æ˜¯å››ä½æ•°çš„ 16 è¿›åˆ¶æ•°å­—ï¼Œéœ€è¦ä½¿ç”¨å¤§æ‹¬å·å°†å…¶æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚å¤§ç¬‘çš„ emoji è¡¨æƒ…ï¼ˆğŸ˜†ï¼‰çš„ Unicode ä¸º <code>\u&#123;1f600&#125;</code>ã€‚</p>
<p>å¦‚æœä½ éœ€è¦è¯»å†™å•ä¸ª Unicode å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ characters åŒ…ä¸­å®šä¹‰çš„ <code>characters</code> getterã€‚å®ƒå°†è¿”å› <a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/documentation/characters/latest/characters/Characters-class.html"><code>Characters</code></a> å¯¹è±¡ä½œä¸ºä¸€ç³»åˆ— grapheme clusters çš„å­—ç¬¦ä¸²ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ characters API çš„æ ·ä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:characters/characters.dart&#x27;</span>;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">var</span> hi = <span class="string">&#x27;Hi ğŸ‡©ğŸ‡°&#x27;</span>;</span><br><span class="line"><span class="built_in">print</span>(hi);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The end of the string: <span class="subst">$&#123;hi.substring(hi.length - <span class="number">1</span>)&#125;</span>&#x27;</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The last character: <span class="subst">$&#123;hi.characters.last&#125;</span>\n&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¾“å‡ºå–å†³äºä½ çš„ç¯å¢ƒï¼Œå¤§è‡´ç±»ä¼¼äºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ dart bin&#x2F;main.dart</span><br><span class="line">Hi ğŸ‡©ğŸ‡°</span><br><span class="line">The end of the string: ???</span><br><span class="line">The last character: ğŸ‡©ğŸ‡°</span><br></pre></td></tr></table></figure>



<p>æœ‰å…³ä½¿ç”¨ characters åŒ…æ“ä½œå­—ç¬¦ä¸²çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç”¨äº characters åŒ…çš„<a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/packages/characters/example">æ ·ä¾‹</a> å’Œ <a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/documentation/characters">API å‚è€ƒ</a>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">åœ¨ä½¿ç”¨ List æ“ä½œ Rune çš„æ—¶å€™éœ€è¦å°å¿ƒï¼Œæ ¹æ®æ‰€æ“ä½œçš„è¯­ç§ã€å­—ç¬¦é›†ç­‰ä¸åŒå¯èƒ½ä¼šå¯¼è‡´å­—ç¬¦ä¸²å‡ºç°é—®é¢˜ï¼Œå…·ä½“å¯å‚è€ƒ Stack Overflow ä¸­çš„æé—®ï¼š [æˆ‘å¦‚ä½•åœ¨ Dart ä¸­åè½¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Ÿ][How do I reverse a String in Dart?]ã€‚</span><br></pre></td></tr></table></figure>



<h3 id="Symbols"><a href="#Symbols" class="headerlink" title="Symbols"></a>Symbols</h3><p><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Symbol-class.html"><code>Symbol</code></a> è¡¨ç¤º Dart ä¸­å£°æ˜çš„æ“ä½œç¬¦æˆ–è€…æ ‡è¯†ç¬¦ã€‚ä½ å‡ ä¹ä¸ä¼šéœ€è¦ Symbolï¼Œä½†æ˜¯å®ƒä»¬å¯¹äºé‚£äº›é€šè¿‡åç§°å¼•ç”¨æ ‡è¯†ç¬¦çš„ API å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºä»£ç å‹ç¼©åï¼Œå°½ç®¡æ ‡è¯†ç¬¦çš„åç§°ä¼šæ”¹å˜ï¼Œä½†æ˜¯å®ƒä»¬çš„ Symbol ä¼šä¿æŒä¸å˜ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨åœ¨æ ‡è¯†ç¬¦å‰åŠ  <code>#</code> å‰ç¼€æ¥è·å– Symbolï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#radix</span><br><span class="line">#bar</span><br></pre></td></tr></table></figure>



<p>Symbol å­—é¢é‡æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>Dart æ˜¯ä¸€ç§çœŸæ­£é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€ä»¥å³ä¾¿å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡å¹¶ä¸”ç±»å‹ä¸º <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Function-class.html">Function</a>ï¼Œè¿™æ„å‘³ç€å‡½æ•°å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡æˆ–è€…ä½œä¸ºå…¶å®ƒå‡½æ•°çš„å‚æ•°ã€‚ä½ ä¹Ÿå¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨ Dart ç±»çš„å®ä¾‹ã€‚è¯¦æƒ…è¯·æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#callable-classes">å¯è°ƒç”¨çš„ç±»</a>ã€‚</p>
<p>ä¸‹é¢æ˜¯å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„ä¾‹å­ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isNoble(<span class="built_in">int</span> atomicNumber) &#123;</span><br><span class="line">  <span class="keyword">return</span> _nobleGases[atomicNumber] != <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è™½ç„¶é«˜æ•ˆ Dart æŒ‡å—å»ºè®®åœ¨<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/effective-dart/design#prefer-type-annotating-public-fields-and-top-level-variables-if-the-type-isnt-obvious">å…¬å¼€çš„ API ä¸Šå®šä¹‰è¿”å›ç±»å‹</a>ï¼Œä¸è¿‡å³ä¾¿ä¸å®šä¹‰ï¼Œè¯¥å‡½æ•°ä¹Ÿä¾ç„¶æœ‰æ•ˆ:</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isNoble(atomicNumber) &#123;</span><br><span class="line">  <span class="keyword">return</span> _nobleGases[atomicNumber] != <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚æœå‡½æ•°ä½“å†…åªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ç®€å†™è¯­æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isNoble(<span class="built_in">int</span> atomicNumber) =&gt; _nobleGases[atomicNumber] != <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>



<p>è¯­æ³• <code>=&gt; *è¡¨è¾¾å¼*</code> æ˜¯ <code>&#123; return *è¡¨è¾¾å¼*; &#125;</code> çš„ç®€å†™ï¼Œ <code>=&gt;</code> æœ‰æ—¶ä¹Ÿç§°ä¹‹ä¸º <strong>ç®­å¤´</strong> å‡½æ•°ã€‚</p>
<h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><p>å‡½æ•°å¯ä»¥æœ‰ä¸¤ç§å½¢å¼çš„å‚æ•°ï¼š<strong>å¿…è¦å‚æ•°</strong> å’Œ <strong>å¯é€‰å‚æ•°</strong>ã€‚å¿…è¦å‚æ•°å®šä¹‰åœ¨å‚æ•°åˆ—è¡¨å‰é¢ï¼Œå¯é€‰å‚æ•°åˆ™å®šä¹‰åœ¨å¿…è¦å‚æ•°åé¢ã€‚å¯é€‰å‚æ•°å¯ä»¥æ˜¯ <strong>å‘½åçš„</strong> æˆ– <strong>ä½ç½®çš„</strong>ã€‚</p>
<p>å‘å‡½æ•°ä¼ å…¥å‚æ•°æˆ–è€…å®šä¹‰å‡½æ•°å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ [å°¾éšé€—å·]</p>
<h4 id="å‘½åå‚æ•°"><a href="#å‘½åå‚æ•°" class="headerlink" title="å‘½åå‚æ•°"></a>å‘½åå‚æ•°</h4><p>å‘½åå‚æ•°é»˜è®¤ä¸ºå¯é€‰å‚æ•°ï¼Œé™¤éä»–ä»¬è¢«ç‰¹åˆ«æ ‡è®°ä¸º <code>required</code>ã€‚</p>
<p>å½“ä½ è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>*å‚æ•°å*: *å‚æ•°å€¼*</code> çš„å½¢å¼æ¥æŒ‡å®šå‘½åå‚æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enableFlags(bold: <span class="keyword">true</span>, hidden: <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å‡½æ•°æ—¶ï¼Œä½¿ç”¨ <code>&#123;param1, param2, â€¦&#125;</code> æ¥æŒ‡å®šå‘½åå‚æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">Sets the [bold] and [hidden] flags ...</span></span></span><br><span class="line"><span class="keyword">void</span> enableFlags(&#123;<span class="built_in">bool?</span> bold, <span class="built_in">bool?</span> hidden&#125;) &#123;...&#125;</span><br></pre></td></tr></table></figure>



<p>è™½ç„¶å‘½åå‚æ•°æ˜¯å¯é€‰å‚æ•°çš„ä¸€ç§ç±»å‹ï¼Œä½†æ˜¯ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ <code>required</code> æ¥æ ‡è¯†ä¸€ä¸ªå‘½åå‚æ•°æ˜¯å¿…é¡»çš„å‚æ•°ï¼Œæ­¤æ—¶è°ƒç”¨è€…å¿…é¡»ä¸ºè¯¥å‚æ•°æä¾›ä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Scrollbar(&#123;Key? key, <span class="keyword">required</span> Widget child&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="å¯é€‰çš„ä½ç½®å‚æ•°"><a href="#å¯é€‰çš„ä½ç½®å‚æ•°" class="headerlink" title="å¯é€‰çš„ä½ç½®å‚æ•°"></a>å¯é€‰çš„ä½ç½®å‚æ•°</h4><p>ä½¿ç”¨ <code>[]</code> å°†ä¸€ç³»åˆ—å‚æ•°åŒ…è£¹èµ·æ¥ä½œä¸ºä½ç½®å‚æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> say(<span class="built_in">String</span> from, <span class="built_in">String</span> msg, [<span class="built_in">String?</span> device]) &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">&#x27;<span class="subst">$from</span> says <span class="subst">$msg</span>&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (device != <span class="keyword">null</span>) &#123;</span><br><span class="line">    result = <span class="string">&#x27;<span class="subst">$result</span> with a <span class="subst">$device</span>&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸ä½¿ç”¨å¯é€‰å‚æ•°è°ƒç”¨ä¸Šè¿°å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(say(<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Howdy&#x27;</span>) == <span class="string">&#x27;Bob says Howdy&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ä½¿ç”¨å¯é€‰å‚æ•°è°ƒç”¨ä¸Šè¿°å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(say(<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Howdy&#x27;</span>, <span class="string">&#x27;smoke signal&#x27;</span>) ==</span><br><span class="line">    <span class="string">&#x27;Bob says Howdy with a smoke signal&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h4 id="é»˜è®¤å‚æ•°å€¼"><a href="#é»˜è®¤å‚æ•°å€¼" class="headerlink" title="é»˜è®¤å‚æ•°å€¼"></a>é»˜è®¤å‚æ•°å€¼</h4><p>å¯ä»¥ç”¨ <code>=</code> ä¸ºå‡½æ•°çš„å‘½åå‚æ•°å’Œä½ç½®å‚æ•°å®šä¹‰é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼å¿…é¡»ä¸ºç¼–è¯‘æ—¶å¸¸é‡ï¼Œæ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„æƒ…å†µä¸‹é»˜è®¤å€¼ä¸º <code>null</code>ã€‚</p>
<p>ä¸‹é¢æ˜¯è®¾ç½®å¯é€‰å‚æ•°é»˜è®¤å€¼ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">è®¾ç½® [bold] å’Œ [hidden] æ ‡è¯†â€¦â€¦</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">Sets the [bold] and [hidden] flags ...</span></span></span><br><span class="line"><span class="keyword">void</span> enableFlags(&#123;<span class="built_in">bool</span> bold = <span class="keyword">false</span>, <span class="built_in">bool</span> hidden = <span class="keyword">false</span>&#125;) &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bold çš„å€¼å°†ä¸º trueï¼›è€Œ hidden å°†ä¸º falseã€‚</span></span><br><span class="line">enableFlags(bold: <span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>



<p>ä¸‹ä¸€ä¸ªç¤ºä¾‹å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä¸ºä½ç½®å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> say(<span class="built_in">String</span> from, <span class="built_in">String</span> msg,</span><br><span class="line">    [<span class="built_in">String</span> device = <span class="string">&#x27;carrier pigeon&#x27;</span>]) &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">&#x27;<span class="subst">$from</span> says <span class="subst">$msg</span> with a <span class="subst">$device</span>&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(say(<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Howdy&#x27;</span>) ==</span><br><span class="line">    <span class="string">&#x27;Bob says Howdy with a carrier pigeon&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>List æˆ– Map åŒæ ·ä¹Ÿå¯ä»¥ä½œä¸ºé»˜è®¤å€¼ã€‚ä¸‹é¢çš„ç¤ºä¾‹å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>doStuff()</code> çš„å‡½æ•°ï¼Œå¹¶ä¸ºå…¶åä¸º <code>list</code> å’Œ <code>gifts</code> çš„å‚æ•°æŒ‡å®šäº†ä¸€ä¸ª List ç±»å‹çš„å€¼å’Œ Map ç±»å‹çš„å€¼ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> doStuff(</span><br><span class="line">    &#123;<span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">const</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; gifts = <span class="keyword">const</span> &#123;</span><br><span class="line">      <span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;paper&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;second&#x27;</span>: <span class="string">&#x27;cotton&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;third&#x27;</span>: <span class="string">&#x27;leather&#x27;</span></span><br><span class="line">    &#125;&#125;) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;list:  <span class="subst">$list</span>&#x27;</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;gifts: <span class="subst">$gifts</span>&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="main-å‡½æ•°"><a href="#main-å‡½æ•°" class="headerlink" title="main() å‡½æ•°"></a>main() å‡½æ•°</h3><p>æ¯ä¸ª Dart ç¨‹åºéƒ½å¿…é¡»æœ‰ä¸€ä¸ª <code>main()</code> é¡¶çº§å‡½æ•°ä½œä¸ºç¨‹åºçš„å…¥å£ï¼Œ <code>main()</code> å‡½æ•°è¿”å›å€¼ä¸º <code>void</code> å¹¶ä¸”æœ‰ä¸€ä¸ª <code>List&lt;String&gt;</code> ç±»å‹çš„å¯é€‰å‚æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å• <code>main()</code> å‡½æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Hello, World!&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œè®¿é—®å¸¦å‚æ•°çš„ <code>main()</code> å‡½æ•°ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å‘½ä»¤ dart args.dart 1 test è¿è¡Œè¯¥åº”ç”¨</span></span><br><span class="line"><span class="comment">// Run the app like this: dart args.dart 1 test</span></span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; arguments) &#123;</span><br><span class="line">  <span class="built_in">print</span>(arguments);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(arguments.length == <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">assert</span>(<span class="built_in">int</span>.parse(arguments[<span class="number">0</span>]) == <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">assert</span>(arguments[<span class="number">1</span>] == <span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡"><a href="#å‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡" class="headerlink" title="å‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡"></a>å‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡</h3><p>å¯ä»¥å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> printElement(<span class="built_in">int</span> element) &#123;</span><br><span class="line">  <span class="built_in">print</span>(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† printElement å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</span></span><br><span class="line">list.forEach(printElement);</span><br></pre></td></tr></table></figure>



<p>ä½ ä¹Ÿå¯ä»¥å°†å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loudify = (msg) =&gt; <span class="string">&#x27;!!! <span class="subst">$&#123;msg.toUpperCase()&#125;</span> !!!&#x27;</span>;</span><br><span class="line"><span class="keyword">assert</span>(loudify(<span class="string">&#x27;hello&#x27;</span>) == <span class="string">&#x27;!!! HELLO !!!&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>è¯¥ç¤ºä¾‹ä¸­ä½¿ç”¨äº†åŒ¿åå‡½æ•°ã€‚</p>
<h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><p>å¤§å¤šæ•°æ–¹æ³•éƒ½æ˜¯æœ‰åå­—çš„ï¼Œæ¯”å¦‚ <code>main()</code> æˆ– <code>printElement()</code>ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åå­—çš„æ–¹æ³•ï¼Œç§°ä¹‹ä¸º <strong>åŒ¿åå‡½æ•°</strong>ã€ <strong>Lambda è¡¨è¾¾å¼</strong> æˆ– <strong>Closure é—­åŒ…</strong>ã€‚ä½ å¯ä»¥å°†åŒ¿åæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ç„¶åä½¿ç”¨å®ƒï¼Œæ¯”å¦‚å°†è¯¥å˜é‡æ·»åŠ åˆ°é›†åˆæˆ–ä»ä¸­åˆ é™¤ã€‚</p>
<p>åŒ¿åæ–¹æ³•çœ‹èµ·æ¥ä¸å‘½åæ–¹æ³•ç±»ä¼¼ï¼Œåœ¨æ‹¬å·ä¹‹é—´å¯ä»¥å®šä¹‰å‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å·åˆ†å‰²ã€‚</p>
<p>åé¢å¤§æ‹¬å·ä¸­çš„å†…å®¹åˆ™ä¸ºå‡½æ•°ä½“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">([[ç±»å‹] å‚æ•°[, â€¦]]) &#123;  å‡½æ•°ä½“; &#125;; </span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢ä»£ç å®šä¹‰äº†åªæœ‰ä¸€ä¸ªå‚æ•° <code>item</code> ä¸”æ²¡æœ‰å‚æ•°ç±»å‹çš„åŒ¿åæ–¹æ³•ã€‚ List ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ‰“å°å…ƒç´ ä½ç½®å’Œå€¼çš„å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = [<span class="string">&#x27;apples&#x27;</span>, <span class="string">&#x27;bananas&#x27;</span>, <span class="string">&#x27;oranges&#x27;</span>];</span><br><span class="line">list.forEach((item) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;<span class="subst">$&#123;list.indexOf(item)&#125;</span>: <span class="subst">$item</span>&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>å¦‚æœå‡½æ•°ä½“å†…åªæœ‰ä¸€è¡Œè¿”å›è¯­å¥ï¼Œä½ å¯ä»¥ä½¿ç”¨èƒ–ç®­å¤´ç¼©å†™æ³•ã€‚ç²˜è´´ä¸‹é¢ä»£ç åˆ° DartPad ä¸­å¹¶ç‚¹å‡»è¿è¡ŒæŒ‰é’®ï¼ŒéªŒè¯ä¸¤ä¸ªå‡½æ•°æ˜¯å¦ä¸€è‡´ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list.forEach(</span><br><span class="line">    (item) =&gt; <span class="built_in">print</span>(<span class="string">&#x27;<span class="subst">$&#123;list.indexOf(item)&#125;</span>: <span class="subst">$item</span>&#x27;</span>));</span><br></pre></td></tr></table></figure>



<h3 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h3><p>Dart æ˜¯è¯æ³•æœ‰ä½œç”¨åŸŸè¯­è¨€ï¼Œå˜é‡çš„ä½œç”¨åŸŸåœ¨å†™ä»£ç çš„æ—¶å€™å°±ç¡®å®šäº†ï¼Œå¤§æ‹¬å·å†…å®šä¹‰çš„å˜é‡åªèƒ½åœ¨å¤§æ‹¬å·å†…è®¿é—®ï¼Œä¸ Java ç±»ä¼¼ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåµŒå¥—å‡½æ•°ä¸­å˜é‡åœ¨å¤šä¸ªä½œç”¨åŸŸä¸­çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> topLevel = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> insideMain = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> myFunction() &#123;</span><br><span class="line">    <span class="keyword">var</span> insideFunction = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> nestedFunction() &#123;</span><br><span class="line">      <span class="keyword">var</span> insideNestedFunction = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">assert</span>(topLevel);</span><br><span class="line">      <span class="keyword">assert</span>(insideMain);</span><br><span class="line">      <span class="keyword">assert</span>(insideFunction);</span><br><span class="line">      <span class="keyword">assert</span>(insideNestedFunction);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ <code>nestedFunction()</code> å‡½æ•°å¯ä»¥è®¿é—®åŒ…æ‹¬é¡¶å±‚å˜é‡åœ¨å†…çš„æ‰€æœ‰çš„å˜é‡ã€‚</p>
<h3 id="è¯æ³•é—­åŒ…"><a href="#è¯æ³•é—­åŒ…" class="headerlink" title="è¯æ³•é—­åŒ…"></a>è¯æ³•é—­åŒ…</h3><p><strong>é—­åŒ…</strong> å³ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå³ä½¿å‡½æ•°å¯¹è±¡çš„è°ƒç”¨åœ¨å®ƒåŸå§‹ä½œç”¨åŸŸä¹‹å¤–ï¼Œä¾ç„¶èƒ½å¤Ÿè®¿é—®åœ¨å®ƒè¯æ³•ä½œç”¨åŸŸå†…çš„å˜é‡ã€‚</p>
<p>å‡½æ•°å¯ä»¥å°é—­å®šä¹‰åˆ°å®ƒä½œç”¨åŸŸå†…çš„å˜é‡ã€‚æ¥ä¸‹æ¥çš„ç¤ºä¾‹ä¸­ï¼Œå‡½æ•° <code>makeAdder()</code> æ•è·äº†å˜é‡ <code>addBy</code>ã€‚æ— è®ºå‡½æ•°åœ¨ä»€ä¹ˆæ—¶å€™è¿”å›ï¼Œå®ƒéƒ½å¯ä»¥ä½¿ç”¨æ•è·çš„ <code>addBy</code> å˜é‡ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="markdown">è¿”å›ä¸€ä¸ªå°† [addBy] æ·»åŠ åˆ°è¯¥å‡½æ•°å‚æ•°çš„å‡½æ•°ã€‚</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">Returns a function that adds [addBy] to the</span></span></span><br><span class="line"><span class="comment">/// <span class="markdown">function&#x27;s argument.</span></span></span><br><span class="line"><span class="built_in">Function</span> makeAdder(<span class="built_in">int</span> addBy) &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="built_in">int</span> i) =&gt; addBy + i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// ç”ŸæˆåŠ  2 çš„å‡½æ•°ã€‚</span></span><br><span class="line">  <span class="keyword">var</span> add2 = makeAdder(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç”ŸæˆåŠ  4 çš„å‡½æ•°ã€‚</span></span><br><span class="line">  <span class="keyword">var</span> add4 = makeAdder(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(add2(<span class="number">3</span>) == <span class="number">5</span>);</span><br><span class="line">  <span class="keyword">assert</span>(add4(<span class="number">3</span>) == <span class="number">7</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰"><a href="#æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰" class="headerlink" title="æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰"></a>æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰</h3><p>ä¸‹é¢æ˜¯é¡¶çº§å‡½æ•°ï¼Œé™æ€æ–¹æ³•å’Œç¤ºä¾‹æ–¹æ³•ç›¸ç­‰æ€§çš„æµ‹è¯•ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> foo() &#123;&#125; <span class="comment">// å®šä¹‰é¡¶å±‚å‡½æ•° (A top-level function)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> bar() &#123;&#125; <span class="comment">// å®šä¹‰é™æ€æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">void</span> baz() &#123;&#125; <span class="comment">// å®šä¹‰å®ä¾‹æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">Function</span> x;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¯”è¾ƒé¡¶å±‚å‡½æ•°æ˜¯å¦ç›¸ç­‰ã€‚</span></span><br><span class="line">  x = foo;</span><br><span class="line">  <span class="keyword">assert</span>(foo == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¯”è¾ƒé™æ€æ–¹æ³•æ˜¯å¦ç›¸ç­‰ã€‚</span></span><br><span class="line">  x = A.bar;</span><br><span class="line">  <span class="keyword">assert</span>(A.bar == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¯”è¾ƒå®ä¾‹æ–¹æ³•æ˜¯å¦ç›¸ç­‰ã€‚</span></span><br><span class="line">  <span class="keyword">var</span> v = A(); <span class="comment">// A çš„å®ä¾‹ #1</span></span><br><span class="line">  <span class="keyword">var</span> w = A(); <span class="comment">// A çš„å®ä¾‹ #2</span></span><br><span class="line">  <span class="keyword">var</span> y = w;</span><br><span class="line">  x = w.baz;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿™ä¸¤ä¸ªé—­åŒ…å¼•ç”¨äº†ç›¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤å®ƒä»¬ç›¸ç­‰ã€‚</span></span><br><span class="line">  <span class="keyword">assert</span>(y.baz == x);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿™ä¸¤ä¸ªé—­åŒ…å¼•ç”¨äº†ä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤å®ƒä»¬ä¸ç›¸ç­‰ã€‚</span></span><br><span class="line">  <span class="keyword">assert</span>(v.baz != w.baz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p>æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰è¿”å›å€¼ã€‚æ²¡æœ‰æ˜¾ç¤ºè¿”å›è¯­å¥çš„å‡½æ•°æœ€åä¸€è¡Œé»˜è®¤ä¸ºæ‰§è¡Œ <code>return null;</code>ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(foo() == <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>





<h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>Dart æ”¯æŒä¸‹è¡¨çš„æ“ä½œç¬¦ã€‚ä½ å¯ä»¥å°†è¿™äº›è¿ç®—ç¬¦å®ç°ä¸º <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#_operators">ä¸€ä¸ªç±»çš„æˆå‘˜</a>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">??  ç©ºåˆ¤æ–­</span><br></pre></td></tr></table></figure>

<h3 id="ç±»å‹åˆ¤æ–­è¿ç®—ç¬¦"><a href="#ç±»å‹åˆ¤æ–­è¿ç®—ç¬¦" class="headerlink" title="ç±»å‹åˆ¤æ–­è¿ç®—ç¬¦"></a>ç±»å‹åˆ¤æ–­è¿ç®—ç¬¦</h3><p><code>as</code>ã€<code>is</code>ã€<code>is!</code> è¿ç®—ç¬¦æ˜¯åœ¨è¿è¡Œæ—¶åˆ¤æ–­å¯¹è±¡ç±»å‹çš„è¿ç®—ç¬¦ã€‚</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>
<tbody><tr>
<td><code>as</code></td>
<td>ç±»å‹è½¬æ¢ï¼ˆä¹Ÿç”¨ä½œæŒ‡å®š <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#specifying-a-library-prefix">ç±»å‰ç¼€</a>)ï¼‰</td>
</tr>
<tr>
<td><code>is</code></td>
<td>å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šç±»å‹åˆ™è¿”å› true</td>
</tr>
<tr>
<td><code>is!</code></td>
<td>å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šç±»å‹åˆ™è¿”å› false</td>
</tr>
</tbody></table>
<p>å½“ä¸”ä»…å½“ <code>obj</code> å®ç°äº† <code>T</code> çš„æ¥å£ï¼Œ<code>obj is T</code> æ‰æ˜¯ trueã€‚ä¾‹å¦‚ <code>obj is Object</code> æ€»ä¸º trueï¼Œå› ä¸ºæ‰€æœ‰ç±»éƒ½æ˜¯ Object çš„å­ç±»ã€‚</p>
<p>ä»…å½“ä½ ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯è¯¥ç±»å‹çš„æ—¶å€™ï¼Œä½ æ‰å¯ä»¥ä½¿ç”¨ <code>as</code> æ“ä½œç¬¦å¯ä»¥æŠŠå¯¹è±¡è½¬æ¢ä¸ºç‰¹å®šçš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(employee <span class="keyword">as</span> Person).firstName = <span class="string">&#x27;Bob&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä¸ç¡®å®šè¿™ä¸ªå¯¹è±¡ç±»å‹æ˜¯ä¸æ˜¯ <code>T</code>ï¼Œè¯·åœ¨è½¬å‹å‰ä½¿ç”¨ <code>is T</code> æ£€æŸ¥ç±»å‹ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (employee <span class="keyword">is</span> Person) &#123;</span><br><span class="line">  <span class="comment">// Type check</span></span><br><span class="line">  employee.firstName = <span class="string">&#x27;Bob&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä½ å¯ä»¥ä½¿ç”¨ <code>as</code> è¿ç®—ç¬¦è¿›è¡Œç¼©å†™ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(emp <span class="keyword">as</span> Person).firstName = <span class="string">&#x27;Bob&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p><strong>å¤‡å¿˜:</strong></p>
<p>ä¸Šè¿°ä¸¤ç§æ–¹å¼æ˜¯æœ‰åŒºåˆ«çš„ï¼šå¦‚æœ <code>employee</code> ä¸º null æˆ–è€…ä¸ä¸º <code>Person</code> ç±»å‹ï¼Œåˆ™ç¬¬ä¸€ç§æ–¹å¼å°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œç¬¬äºŒç§ä¸ä¼šã€‚</p>
<h3 id="èµ‹å€¼è¿ç®—ç¬¦"><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦</h3><p>å¯ä»¥ä½¿ç”¨ <code>=</code> æ¥èµ‹å€¼ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>??=</code> æ¥ä¸ºå€¼ä¸º null çš„å˜é‡èµ‹å€¼ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Assign value to a</span></span><br><span class="line">a = value;</span><br><span class="line"><span class="comment">// Assign value to b if b is null; otherwise, b stays the same</span></span><br><span class="line">b ??= value;</span><br></pre></td></tr></table></figure>



<h3 id="æ¡ä»¶è¡¨è¾¾å¼"><a href="#æ¡ä»¶è¡¨è¾¾å¼" class="headerlink" title="æ¡ä»¶è¡¨è¾¾å¼"></a>æ¡ä»¶è¡¨è¾¾å¼</h3><p>Dart æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„è¿ç®—ç¬¦å¯ä»¥ç”¨æ¥æ›¿ä»£ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#if-%E5%92%8C-else">if-else</a> è¯­å¥ï¼š</p>
<p>æ ¹æ®å¸ƒå°”è¡¨è¾¾å¼ç¡®å®šèµ‹å€¼æ—¶ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ <code>?</code> å’Œ <code>:</code>ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> visibility = isPublic ? <span class="string">&#x27;public&#x27;</span> : <span class="string">&#x27;private&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœèµ‹å€¼æ˜¯æ ¹æ®åˆ¤å®šæ˜¯å¦ä¸º null åˆ™è€ƒè™‘ä½¿ç”¨ <code>??</code>ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> playerName(<span class="built_in">String?</span> name) =&gt; name ?? <span class="string">&#x27;Guest&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ç¤ºä¾‹è¿˜å¯ä»¥å†™æˆè‡³å°‘ä¸‹é¢ä¸¤ç§ä¸åŒçš„å½¢å¼ï¼Œåªæ˜¯ä¸å¤Ÿç®€æ´ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Slightly longer version uses ?: operator.</span></span><br><span class="line"><span class="built_in">String</span> playerName(<span class="built_in">String?</span> name) =&gt; name != <span class="keyword">null</span> ? name : <span class="string">&#x27;Guest&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Very long version uses if-else statement.</span></span><br><span class="line"><span class="built_in">String</span> playerName(<span class="built_in">String?</span> name) &#123;</span><br><span class="line">  <span class="keyword">if</span> (name != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Guest&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="æµç¨‹æ§åˆ¶è¯­å¥"><a href="#æµç¨‹æ§åˆ¶è¯­å¥" class="headerlink" title="æµç¨‹æ§åˆ¶è¯­å¥"></a>æµç¨‹æ§åˆ¶è¯­å¥</h2><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥æ¥æ§åˆ¶ Dart ä»£ç çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li><code>if</code> å’Œ <code>else</code></li>
<li><code>for</code> å¾ªç¯</li>
<li><code>while</code> å’Œ <code>do</code>-<code>while</code> å¾ªç¯</li>
<li><code>break</code> å’Œ <code>continue</code></li>
<li><code>switch</code> å’Œ <code>case</code></li>
<li><code>assert</code></li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> candidate <span class="keyword">in</span> candidates) &#123;</span><br><span class="line">  candidate.interview();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> collection = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">collection.forEach(<span class="built_in">print</span>); <span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h3><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸º false æ—¶ä½¿ç”¨ â€” <code>assert(*æ¡ä»¶*, *å¯é€‰ä¿¡æ¯*)</code>; â€” è¯­å¥æ¥æ‰“æ–­ä»£ç çš„æ‰§è¡Œã€‚ä½ å¯ä»¥åœ¨æœ¬æ–‡ä¸­æ‰¾åˆ°å¤§é‡ä½¿ç”¨ assert çš„ä¾‹å­ã€‚ä¸‹é¢æ˜¯ç›¸å…³ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¡®ä¿å˜é‡å€¼ä¸ä¸º null (Make sure the variable has a non-null value)</span></span><br><span class="line"><span class="keyword">assert</span>(text != <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¡®ä¿å˜é‡å€¼å°äº 100ã€‚</span></span><br><span class="line"><span class="keyword">assert</span>(number &lt; <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¡®ä¿è¿™æ˜¯ä¸€ä¸ª https åœ°å€ã€‚</span></span><br><span class="line"><span class="keyword">assert</span>(urlString.startsWith(<span class="string">&#x27;https&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p><code>assert</code> çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¸ºå…¶æ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²æ¶ˆæ¯ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(urlString.startsWith(<span class="string">&#x27;https&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;URL (<span class="subst">$urlString</span>) should start with &quot;https&quot;.&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>assert</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å€¼ä¸ºå¸ƒå°”å€¼çš„ä»»ä½•è¡¨è¾¾å¼ã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸º trueï¼Œåˆ™æ–­è¨€æˆåŠŸï¼Œç»§ç»­æ‰§è¡Œã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸º falseï¼Œåˆ™æ–­è¨€å¤±è´¥ï¼ŒæŠ›å‡ºä¸€ä¸ª <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/AssertionError-class.html"><code>AssertionError</code></a> å¼‚å¸¸ã€‚</p>
<p>å¦‚ä½•åˆ¤æ–­ assert æ˜¯å¦ç”Ÿæ•ˆï¼Ÿassert æ˜¯å¦ç”Ÿæ•ˆä¾èµ–å¼€å‘å·¥å…·å’Œä½¿ç”¨çš„æ¡†æ¶ï¼š</p>
<ul>
<li>Flutter åœ¨<a target="_blank" rel="noopener" href="https://flutter.cn/docs/testing/debugging#debug-mode-assertions">è°ƒè¯•æ¨¡å¼</a>æ—¶ç”Ÿæ•ˆã€‚</li>
<li>ä¸€äº›å¼€å‘å·¥å…·æ¯”å¦‚ <a target="_blank" rel="noopener" href="https://dart.cn/tools/dartdevc">dartdevc</a> é€šå¸¸æƒ…å†µä¸‹æ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ã€‚</li>
<li>å…¶ä»–ä¸€äº›å·¥å…·ï¼Œæ¯”å¦‚ <a target="_blank" rel="noopener" href="https://dart.cn/server/tools/dart-vm">dart</a> ä»¥åŠ <a target="_blank" rel="noopener" href="https://dart.cn/tools/dart2js">dart2js</a> é€šè¿‡åœ¨è¿è¡Œ Dart ç¨‹åºæ—¶æ·»åŠ å‘½ä»¤è¡Œå‚æ•° <code>--enable-asserts</code> ä½¿ assert ç”Ÿæ•ˆã€‚</li>
</ul>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä»£ç ä¸­ï¼Œæ–­è¨€ä¼šè¢«å¿½ç•¥ï¼Œä¸æ­¤åŒæ—¶ä¼ å…¥ <code>assert</code> çš„å‚æ•°ä¸è¢«åˆ¤æ–­ã€‚</p>
<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><p>Dart ä»£ç å¯ä»¥æŠ›å‡ºå’Œæ•è·å¼‚å¸¸ã€‚å¼‚å¸¸è¡¨ç¤ºä¸€äº›æœªçŸ¥çš„é”™è¯¯æƒ…å†µï¼Œå¦‚æœå¼‚å¸¸æ²¡æœ‰æ•è·åˆ™ä¼šè¢«æŠ›å‡ºä»è€Œå¯¼è‡´æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ç»ˆæ­¢æ‰§è¡Œã€‚</p>
<p>ä¸ Java ä¸åŒçš„æ˜¯ï¼ŒDart çš„æ‰€æœ‰å¼‚å¸¸éƒ½æ˜¯éå¿…æ£€å¼‚å¸¸ï¼Œæ–¹æ³•ä¸å¿…å£°æ˜ä¼šæŠ›å‡ºå“ªäº›å¼‚å¸¸ï¼Œå¹¶ä¸”ä½ ä¹Ÿä¸å¿…æ•è·ä»»ä½•å¼‚å¸¸ã€‚</p>
<p>Dart æä¾›äº† <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Exception-class.html"><code>Exception</code></a> å’Œ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Error-class.html"><code>Error</code></a> ä¸¤ç§ç±»å‹çš„å¼‚å¸¸ä»¥åŠå®ƒä»¬ä¸€ç³»åˆ—çš„å­ç±»ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„å¼‚å¸¸ç±»å‹ã€‚ä½†æ˜¯åœ¨ Dart ä¸­å¯ä»¥å°†ä»»ä½•é null å¯¹è±¡ä½œä¸ºå¼‚å¸¸æŠ›å‡ºè€Œä¸å±€é™äº Exception æˆ– Error ç±»å‹ã€‚</p>
<h3 id="æŠ›å‡ºå¼‚å¸¸"><a href="#æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="æŠ›å‡ºå¼‚å¸¸"></a>æŠ›å‡ºå¼‚å¸¸</h3><p>ä¸‹é¢æ˜¯å…³äºæŠ›å‡ºæˆ–è€… <strong>å¼•å‘</strong> å¼‚å¸¸çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> FormatException(<span class="string">&#x27;Expected at least 1 section&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä½ ä¹Ÿå¯ä»¥æŠ›å‡ºä»»æ„çš„å¯¹è±¡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="string">&#x27;Out of llamas!&#x27;</span>;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">ä¼˜ç§€çš„ä»£ç é€šå¸¸ä¼šæŠ›å‡º Error æˆ– Exception ç±»å‹çš„å¼‚å¸¸ã€‚</span><br></pre></td></tr></table></figure>



<p>å› ä¸ºæŠ›å‡ºå¼‚å¸¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ =&gt; è¯­å¥ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–ä½¿ç”¨è¡¨è¾¾å¼çš„åœ°æ–¹æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> distanceTo(Point other) =&gt; <span class="keyword">throw</span> UnimplementedError();</span><br></pre></td></tr></table></figure>

<h3 id="æ•è·å¼‚å¸¸"><a href="#æ•è·å¼‚å¸¸" class="headerlink" title="æ•è·å¼‚å¸¸"></a>æ•è·å¼‚å¸¸</h3><p>æ•è·å¼‚å¸¸å¯ä»¥é¿å…å¼‚å¸¸ç»§ç»­ä¼ é€’ï¼ˆé‡æ–°æŠ›å‡ºå¼‚å¸¸é™¤å¤–ï¼‰ã€‚æ•è·ä¸€ä¸ªå¼‚å¸¸å¯ä»¥ç»™ä½ å¤„ç†å®ƒçš„æœºä¼šï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">on</span> OutOfLlamasException &#123;</span><br><span class="line">  buyMoreLlamas();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå¯ä»¥æŠ›å‡ºå¤šç§å¼‚å¸¸ç±»å‹çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ª catch è¯­å¥ï¼Œæ¯ä¸ªè¯­å¥åˆ†åˆ«å¯¹åº”ä¸€ä¸ªå¼‚å¸¸ç±»å‹ï¼Œå¦‚æœ catch è¯­å¥æ²¡æœ‰æŒ‡å®šå¼‚å¸¸ç±»å‹åˆ™è¡¨ç¤ºå¯ä»¥æ•è·ä»»æ„å¼‚å¸¸ç±»å‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">on</span> OutOfLlamasException &#123;</span><br><span class="line">  <span class="comment">// æŒ‡å®šå¼‚å¸¸</span></span><br><span class="line">  buyMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">on</span> Exception <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// å…¶å®ƒç±»å‹çš„å¼‚å¸¸</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Unknown exception: <span class="subst">$e</span>&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// // ä¸æŒ‡å®šç±»å‹ï¼Œå¤„ç†å…¶å®ƒå…¨éƒ¨</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Something really unknown: <span class="subst">$e</span>&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºå¯ä»¥ä½¿ç”¨ <code>on</code> æˆ– <code>catch</code> æ¥æ•è·å¼‚å¸¸ï¼Œä½¿ç”¨ <code>on</code> æ¥æŒ‡å®šå¼‚å¸¸ç±»å‹ï¼Œä½¿ç”¨ <code>catch</code> æ¥æ•è·å¼‚å¸¸å¯¹è±¡ï¼Œä¸¤è€…å¯åŒæ—¶ä½¿ç”¨ã€‚</p>
<p>ä½ å¯ä»¥ä¸º <code>catch</code> æ–¹æ³•æŒ‡å®šä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ ˆä¿¡æ¯ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/StackTrace-class.html"><code>StackTrace</code></a> å¯¹è±¡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125; <span class="keyword">on</span> Exception <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Exception details:\n <span class="subst">$e</span>&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e, s) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Exception details:\n <span class="subst">$e</span>&#x27;</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Stack trace:\n <span class="subst">$s</span>&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³é”®å­— <code>rethrow</code> å¯ä»¥å°†æ•è·çš„å¼‚å¸¸å†æ¬¡æŠ›å‡ºï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> misbehave() &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">dynamic</span> foo = <span class="keyword">true</span>;</span><br><span class="line">    <span class="built_in">print</span>(foo++); <span class="comment">// è¿è¡Œæ—¶é”™è¯¯</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;misbehave() partially handled <span class="subst">$&#123;e.runtimeType&#125;</span>.&#x27;</span>);</span><br><span class="line">    <span class="keyword">rethrow</span>; <span class="comment">// å…è®¸è°ƒç”¨è€…æŸ¥çœ‹å¼‚å¸¸ã€‚</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    misbehave();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;main() finished handling <span class="subst">$&#123;e.runtimeType&#125;</span>.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h3><p>æ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œ<code>finally</code> è¯­å¥å§‹ç»ˆæ‰§è¡Œï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š <code>catch</code> è¯­å¥æ¥æ•è·å¼‚å¸¸ï¼Œåˆ™å¼‚å¸¸ä¼šåœ¨æ‰§è¡Œå®Œ <code>finally</code> è¯­å¥åæŠ›å‡ºï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  <span class="comment">// æ€»æ˜¯æ¸…ç†ï¼Œå³ä¾¿æŠ›å‡ºäº†å¼‚å¸¸ã€‚</span></span><br><span class="line">  cleanLlamaStalls();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>finally</code> è¯­å¥ä¼šåœ¨ä»»ä½•åŒ¹é…çš„ <code>catch</code> è¯­å¥åæ‰§è¡Œï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  breedMoreLlamas();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Error: <span class="subst">$e</span>&#x27;</span>); <span class="comment">// å…ˆå¤„ç†å¼‚å¸¸ã€‚</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  cleanLlamaStalls(); <span class="comment">// ç„¶åæ¸…ç†ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥é˜…è¯» Dart æ ¸å¿ƒåº“æ¦‚è§ˆçš„ <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/library-tour#exceptions">å¼‚å¸¸</a> ç« èŠ‚è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p>
<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><p>Dart æ˜¯æ”¯æŒåŸºäº mixin ç»§æ‰¿æœºåˆ¶çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œè€Œé™¤äº† <code>Null</code> ä»¥å¤–çš„æ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿è‡ª <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Object-class.html"><code>Object</code></a>ç±»ã€‚ <strong>åŸºäº mixin çš„ç»§æ‰¿</strong> æ„å‘³ç€å°½ç®¡æ¯ä¸ªç±»ï¼ˆ<a target="_blank" rel="noopener" href="https://dart.cn/null-safety/understanding-null-safety#top-and-bottom">top class</a> <code>Object?</code> é™¤å¤–ï¼‰éƒ½åªæœ‰ä¸€ä¸ªè¶…ç±»ï¼Œä¸€ä¸ªç±»çš„ä»£ç å¯ä»¥åœ¨å…¶å®ƒå¤šä¸ªç±»ç»§æ‰¿ä¸­é‡å¤ä½¿ç”¨ã€‚ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#extension-methods">æ‰©å±•æ–¹æ³•</a> æ˜¯ä¸€ç§åœ¨ä¸æ›´æ”¹ç±»æˆ–åˆ›å»ºå­ç±»çš„æƒ…å†µä¸‹å‘ç±»æ·»åŠ åŠŸèƒ½çš„æ–¹å¼ã€‚</p>
<h3 id="ä½¿ç”¨ç±»çš„æˆå‘˜"><a href="#ä½¿ç”¨ç±»çš„æˆå‘˜" class="headerlink" title="ä½¿ç”¨ç±»çš„æˆå‘˜"></a>ä½¿ç”¨ç±»çš„æˆå‘˜</h3><p>å¯¹è±¡çš„ <strong>æˆå‘˜</strong> ç”±å‡½æ•°å’Œæ•°æ®ï¼ˆå³ <strong>æ–¹æ³•</strong> å’Œ <strong>å®ä¾‹å˜é‡</strong>ï¼‰ç»„æˆã€‚æ–¹æ³•çš„ <strong>è°ƒç”¨</strong> è¦é€šè¿‡å¯¹è±¡æ¥å®Œæˆï¼Œè¿™ç§æ–¹å¼å¯ä»¥è®¿é—®å¯¹è±¡çš„å‡½æ•°å’Œæ•°æ®ã€‚</p>
<p>ä½¿ç”¨ï¼ˆ<code>.</code>ï¼‰æ¥è®¿é—®å¯¹è±¡çš„å®ä¾‹å˜é‡æˆ–æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– y å€¼</span></span><br><span class="line"><span class="keyword">assert</span>(p.y == <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å˜é‡ p çš„ distanceTo() æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="built_in">double</span> distance = p.distanceTo(Point(<span class="number">4</span>, <span class="number">4</span>));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>?.</code> ä»£æ›¿ <code>.</code> å¯ä»¥é¿å…å› ä¸ºå·¦è¾¹è¡¨è¾¾å¼ä¸º null è€Œå¯¼è‡´çš„é—®é¢˜ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If p is non-null, set a variable equal to its y value.</span></span><br><span class="line"><span class="keyword">var</span> a = p?.y;</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨æ„é€ å‡½æ•°"><a href="#ä½¿ç”¨æ„é€ å‡½æ•°" class="headerlink" title="ä½¿ç”¨æ„é€ å‡½æ•°"></a>ä½¿ç”¨æ„é€ å‡½æ•°</h3><p>å¯ä»¥ä½¿ç”¨ <strong>æ„é€ å‡½æ•°</strong> æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚æ„é€ å‡½æ•°çš„å‘½åæ–¹å¼å¯ä»¥ä¸º <code>*ç±»å*</code> æˆ– <code>*ç±»å* . *æ ‡è¯†ç¬¦* </code>çš„å½¢å¼ã€‚ä¾‹å¦‚ä¸‹è¿°ä»£ç åˆ†åˆ«ä½¿ç”¨ <code>Point()</code> å’Œ <code>Point.fromJson()</code> ä¸¤ç§æ„é€ å™¨åˆ›å»ºäº† <code>Point</code> å¯¹è±¡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = Point.fromJson(&#123;<span class="string">&#x27;x&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;y&#x27;</span>: <span class="number">2</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ä»£ç å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼Œä½†æ˜¯æ„é€ å‡½æ•°åå‰é¢çš„çš„ <code>new</code> å…³é”®å­—æ˜¯å¯é€‰çš„ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Point.fromJson(&#123;<span class="string">&#x27;x&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;y&#x27;</span>: <span class="number">2</span>&#125;);</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> ç‰ˆæœ¬æç¤º:</span><br><span class="line"></span><br><span class="line">ä» Dart 2 å¼€å§‹ï¼Œnew å…³é”®å­—æ˜¯å¯é€‰çš„ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¸€äº›ç±»æä¾›äº†<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#constant-constructors">å¸¸é‡æ„é€ å‡½æ•°</a>ã€‚ä½¿ç”¨å¸¸é‡æ„é€ å‡½æ•°ï¼Œåœ¨æ„é€ å‡½æ•°åä¹‹å‰åŠ  <code>const</code> å…³é”®å­—ï¼Œæ¥åˆ›å»ºç¼–è¯‘æ—¶å¸¸é‡æ—¶ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">const</span> ImmutablePoint(<span class="number">2</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªä½¿ç”¨ç›¸åŒæ„é€ å‡½æ•°ç›¸åŒå‚æ•°å€¼æ„é€ çš„ç¼–è¯‘æ—¶å¸¸é‡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">const</span> ImmutablePoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">const</span> ImmutablePoint(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(identical(a, b)); <span class="comment">// å®ƒä»¬æ˜¯åŒä¸€ä¸ªå®ä¾‹ (They are the same instance!)</span></span><br></pre></td></tr></table></figure>



<p>åœ¨ <strong>å¸¸é‡ä¸Šä¸‹æ–‡</strong> åœºæ™¯ä¸­ï¼Œä½ å¯ä»¥çœç•¥æ‰æ„é€ å‡½æ•°æˆ–å­—é¢é‡å‰çš„ <code>const</code> å…³é”®å­—ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¸¸é‡ Mapï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Lots of const keywords here.</span></span><br><span class="line"><span class="comment">// è¿™é‡Œæœ‰å¾ˆå¤š const å…³é”®å­—</span></span><br><span class="line"><span class="keyword">const</span> pointAndLine = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="string">&#x27;point&#x27;</span>: <span class="keyword">const</span> [<span class="keyword">const</span> ImmutablePoint(<span class="number">0</span>, <span class="number">0</span>)],</span><br><span class="line">  <span class="string">&#x27;line&#x27;</span>: <span class="keyword">const</span> [<span class="keyword">const</span> ImmutablePoint(<span class="number">1</span>, <span class="number">10</span>), <span class="keyword">const</span> ImmutablePoint(<span class="number">-2</span>, <span class="number">11</span>)],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šä¸‹æ–‡ï¼Œä½ å¯ä»¥åªä¿ç•™ç¬¬ä¸€ä¸ª <code>const</code> å…³é”®å­—ï¼Œå…¶ä½™çš„å…¨éƒ¨çœç•¥ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Only one const, which establishes the constant context.</span></span><br><span class="line"><span class="comment">// åªéœ€è¦ä¸€ä¸ª const å…³é”®å­—ï¼Œå…¶å®ƒçš„åˆ™ä¼šéšå¼åœ°æ ¹æ®ä¸Šä¸‹æ–‡è¿›è¡Œå…³è”ã€‚</span></span><br><span class="line"><span class="keyword">const</span> pointAndLine = &#123;</span><br><span class="line">  <span class="string">&#x27;point&#x27;</span>: [ImmutablePoint(<span class="number">0</span>, <span class="number">0</span>)],</span><br><span class="line">  <span class="string">&#x27;line&#x27;</span>: [ImmutablePoint(<span class="number">1</span>, <span class="number">10</span>), ImmutablePoint(<span class="number">-2</span>, <span class="number">11</span>)],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœæ— æ³•æ ¹æ®ä¸Šä¸‹æ–‡åˆ¤æ–­æ˜¯å¦å¯ä»¥çœç•¥ <code>const</code>ï¼Œåˆ™ä¸èƒ½çœç•¥æ‰ <code>const</code> å…³é”®å­—ï¼Œå¦åˆ™å°†ä¼šåˆ›å»ºä¸€ä¸ª <strong>éå¸¸é‡å¯¹è±¡</strong> ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">const</span> ImmutablePoint(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// åˆ›å»ºä¸€ä¸ªå¸¸é‡ (Creates a constant)</span></span><br><span class="line"><span class="keyword">var</span> b = ImmutablePoint(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// ä¸ä¼šåˆ›å»ºä¸€ä¸ªå¸¸é‡ (Does NOT create a constant)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span>(!identical(a, b)); <span class="comment">// è¿™ä¸¤å˜é‡å¹¶ä¸ç›¸åŒ (NOT the same instance!)</span></span><br></pre></td></tr></table></figure>



<p>åªæœ‰ä» Dart 2 å¼€å§‹æ‰èƒ½æ ¹æ®ä¸Šä¸‹æ–‡åˆ¤æ–­çœç•¥ <code>const</code> å…³é”®å­—ã€‚</p>
<h3 id="è·å–å¯¹è±¡çš„ç±»å‹"><a href="#è·å–å¯¹è±¡çš„ç±»å‹" class="headerlink" title="è·å–å¯¹è±¡çš„ç±»å‹"></a>è·å–å¯¹è±¡çš„ç±»å‹</h3><p>å¯ä»¥ä½¿ç”¨ <code>Object</code> å¯¹è±¡çš„ <code>runtimeType</code> å±æ€§åœ¨è¿è¡Œæ—¶è·å–ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œè¯¥å¯¹è±¡ç±»å‹æ˜¯ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Type-class.html"><code>Type</code></a> çš„å®ä¾‹ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;The type of a is <span class="subst">$&#123;a.runtimeType&#125;</span>&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è§£äº†å¦‚ä½• <strong>ä½¿ç”¨</strong> ç±»ã€‚æœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†å°†å‘ä½ ä»‹ç»å¦‚ä½• <strong>å®ç°</strong> ä¸€ä¸ªç±»ã€‚</p>
<h3 id="å®ä¾‹å˜é‡"><a href="#å®ä¾‹å˜é‡" class="headerlink" title="å®ä¾‹å˜é‡"></a>å®ä¾‹å˜é‡</h3><p>ä¸‹é¢æ˜¯å£°æ˜å®ä¾‹å˜é‡çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double?</span> x; <span class="comment">// Declare instance variable x, initially null.</span></span><br><span class="line">  <span class="built_in">double?</span> y; <span class="comment">// Declare y, initially null.</span></span><br><span class="line">  <span class="built_in">double</span> z = <span class="number">0</span>; <span class="comment">// Declare z, initially 0.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰æœªåˆå§‹åŒ–çš„å®ä¾‹å˜é‡å…¶å€¼å‡ä¸º <code>null</code>ã€‚</p>
<p>æ‰€æœ‰å®ä¾‹å˜é‡å‡ä¼šéšå¼åœ°å£°æ˜ä¸€ä¸ª <em>Getter</em> æ–¹æ³•ã€‚éç»ˆå€¼çš„å®ä¾‹å˜é‡å’Œ <code>late final</code> å£°æ˜ä½†æœªå£°æ˜åˆå§‹åŒ–çš„å®ä¾‹å˜é‡è¿˜ä¼šéšå¼åœ°å£°æ˜ä¸€ä¸ª <em>Setter</em> æ–¹æ³•ã€‚ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#getters-and-setters">Getter å’Œ Setter</a> è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double?</span> x; <span class="comment">// Declare instance variable x, initially null.</span></span><br><span class="line">  <span class="built_in">double?</span> y; <span class="comment">// Declare y, initially null.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> point = Point();</span><br><span class="line">  point.x = <span class="number">4</span>; <span class="comment">// ä½¿ç”¨ x çš„ Setter æ–¹æ³•ã€‚</span></span><br><span class="line">  <span class="keyword">assert</span>(point.x == <span class="number">4</span>); <span class="comment">// ä½¿ç”¨ x çš„ Getter æ–¹æ³•ã€‚</span></span><br><span class="line">  <span class="keyword">assert</span>(point.y == <span class="keyword">null</span>); <span class="comment">// é»˜è®¤å€¼ä¸º nullã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><p>å£°æ˜ä¸€ä¸ªä¸ç±»åä¸€æ ·çš„å‡½æ•°å³å¯å£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆå¯¹äº<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#named-constructors">å‘½åå¼æ„é€ å‡½æ•°</a> è¿˜å¯ä»¥æ·»åŠ é¢å¤–çš„æ ‡è¯†ç¬¦ï¼‰ã€‚å¤§éƒ¨åˆ†çš„æ„é€ å‡½æ•°å½¢å¼æ˜¯ç”Ÿæˆå¼æ„é€ å‡½æ•°ï¼Œå…¶ç”¨äºåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">double</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  Point(<span class="built_in">double</span> x, <span class="built_in">double</span> y) &#123;</span><br><span class="line">    <span class="comment">// è¿˜ä¼šæœ‰æ›´å¥½çš„æ–¹å¼æ¥å®ç°æ­¤é€»è¾‘ï¼Œæ•¬è¯·æœŸå¾…ã€‚</span></span><br><span class="line">    <span class="keyword">this</span>.x = x;</span><br><span class="line">    <span class="keyword">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>this</code> å…³é”®å­—å¼•ç”¨å½“å‰å®ä¾‹ã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ¥è¯´åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºå®ä¾‹å˜é‡èµ‹å€¼çš„è¿‡ç¨‹éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè€Œ Dart åˆ™æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ç³–æ¥ç®€åŒ–è¯¥æ­¥éª¤ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">double</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œå‰ç”¨äºè®¾ç½® x å’Œ y çš„è¯­æ³•ç³–ã€‚</span></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="é»˜è®¤æ„é€ å‡½æ•°"><a href="#é»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="é»˜è®¤æ„é€ å‡½æ•°"></a>é»˜è®¤æ„é€ å‡½æ•°</h4><p>å¦‚æœä½ æ²¡æœ‰å£°æ˜æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆ Dart ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°å¹¶ä¸”è¯¥æ„é€ å‡½æ•°ä¼šè°ƒç”¨å…¶çˆ¶ç±»çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚</p>
<h4 id="æ„é€ å‡½æ•°ä¸è¢«ç»§æ‰¿"><a href="#æ„é€ å‡½æ•°ä¸è¢«ç»§æ‰¿" class="headerlink" title="æ„é€ å‡½æ•°ä¸è¢«ç»§æ‰¿"></a>æ„é€ å‡½æ•°ä¸è¢«ç»§æ‰¿</h4><p>å­ç±»ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœå­ç±»æ²¡æœ‰å£°æ˜æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆåªä¼šæœ‰ä¸€ä¸ªé»˜è®¤æ— å‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>
<h4 id="å‘½åå¼æ„é€ å‡½æ•°"><a href="#å‘½åå¼æ„é€ å‡½æ•°" class="headerlink" title="å‘½åå¼æ„é€ å‡½æ•°"></a>å‘½åå¼æ„é€ å‡½æ•°</h4><p>å¯ä»¥ä¸ºä¸€ä¸ªç±»å£°æ˜å¤šä¸ªå‘½åå¼æ„é€ å‡½æ•°æ¥è¡¨è¾¾æ›´æ˜ç¡®çš„æ„å›¾ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> xOrigin = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">double</span> yOrigin = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">double</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘½åå¼æ„é€ å‡½æ•°</span></span><br><span class="line">  Point.origin()</span><br><span class="line">      : x = xOrigin,</span><br><span class="line">        y = yOrigin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®°ä½æ„é€ å‡½æ•°æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œè¿™å°†æ„å‘³ç€å­ç±»ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„å‘½åå¼æ„é€ å‡½æ•°ï¼Œå¦‚æœä½ æƒ³åœ¨å­ç±»ä¸­æä¾›ä¸€ä¸ªä¸çˆ¶ç±»å‘½åæ„é€ å‡½æ•°åå­—ä¸€æ ·çš„å‘½åæ„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨å­ç±»ä¸­æ˜¾å¼åœ°å£°æ˜ã€‚</p>
<h4 id="è°ƒç”¨çˆ¶ç±»éé»˜è®¤æ„é€ å‡½æ•°"><a href="#è°ƒç”¨çˆ¶ç±»éé»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="è°ƒç”¨çˆ¶ç±»éé»˜è®¤æ„é€ å‡½æ•°"></a>è°ƒç”¨çˆ¶ç±»éé»˜è®¤æ„é€ å‡½æ•°</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå­ç±»çš„æ„é€ å‡½æ•°ä¼šè°ƒç”¨çˆ¶ç±»çš„åŒ¿åæ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥è°ƒç”¨ä¼šåœ¨å­ç±»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä»£ç æ‰§è¡Œå‰ï¼Œå¦‚æœå­ç±»æ„é€ å‡½æ•°è¿˜æœ‰ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#initializer-list">åˆå§‹åŒ–åˆ—è¡¨</a>ï¼Œé‚£ä¹ˆè¯¥åˆå§‹åŒ–åˆ—è¡¨ä¼šåœ¨è°ƒç”¨çˆ¶ç±»çš„è¯¥æ„é€ å‡½æ•°ä¹‹å‰è¢«æ‰§è¡Œï¼Œæ€»çš„æ¥è¯´ï¼Œè¿™ä¸‰è€…çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–åˆ—è¡¨</li>
<li>çˆ¶ç±»çš„æ— å‚æ•°æ„é€ å‡½æ•°</li>
<li>å½“å‰ç±»çš„æ„é€ å‡½æ•°</li>
</ol>
<p>å¦‚æœçˆ¶ç±»æ²¡æœ‰åŒ¿åæ— å‚æ•°æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå­ç±»å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„å…¶ä¸­ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¸ºå­ç±»çš„æ„é€ å‡½æ•°æŒ‡å®šä¸€ä¸ªçˆ¶ç±»çš„æ„é€ å‡½æ•°åªéœ€åœ¨æ„é€ å‡½æ•°ä½“å‰ä½¿ç”¨ï¼ˆ<code>:</code>ï¼‰æŒ‡å®šã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒEmployee ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨äº†çˆ¶ç±» Person çš„å‘½åæ„é€ å‡½æ•°ã€‚ç‚¹å‡»è¿è¡ŒæŒ‰é’®æ‰§è¡Œç¤ºä¾‹ä»£ç ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String?</span> firstName;</span><br><span class="line"></span><br><span class="line">  Person.fromJson(<span class="built_in">Map</span> data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;in Person&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Person does not have a default constructor;</span></span><br><span class="line">  <span class="comment">// you must call super.fromJson(data).</span></span><br><span class="line">  Employee.fromJson(<span class="built_in">Map</span> data) : <span class="keyword">super</span>.fromJson(data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;in Employee&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> employee = Employee.fromJson(&#123;&#125;);</span><br><span class="line">  <span class="built_in">print</span>(employee);</span><br><span class="line">  <span class="comment">// Prints:</span></span><br><span class="line">  <span class="comment">// in Person</span></span><br><span class="line">  <span class="comment">// in Employee</span></span><br><span class="line">  <span class="comment">// Instance of &#x27;Employee&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">in Person</span><br><span class="line">in Employee</span><br><span class="line">Instance of &#39;Employee&#39;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå‚æ•°ä¼šåœ¨å­ç±»æ„é€ å‡½æ•°è¢«æ‰§è¡Œå‰ä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤è¯¥å‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  Employee() : <span class="keyword">super</span>.fromJson(fetchDefaultData());</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¼ é€’ç»™çˆ¶ç±»æ„é€ å‡½æ•°çš„å‚æ•°ä¸èƒ½ä½¿ç”¨ <code>this</code> å…³é”®å­—ï¼Œå› ä¸ºåœ¨å‚æ•°ä¼ é€’çš„è¿™ä¸€æ­¥éª¤ï¼Œå­ç±»æ„é€ å‡½æ•°å°šæœªæ‰§è¡Œï¼Œå­ç±»çš„å®ä¾‹å¯¹è±¡ä¹Ÿå°±è¿˜æœªåˆå§‹åŒ–ï¼Œå› æ­¤æ‰€æœ‰çš„å®ä¾‹æˆå‘˜éƒ½ä¸èƒ½è¢«è®¿é—®ï¼Œä½†æ˜¯ç±»æˆå‘˜å¯ä»¥ã€‚</p>
<h4 id="åˆå§‹åŒ–åˆ—è¡¨"><a href="#åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="åˆå§‹åŒ–åˆ—è¡¨"></a>åˆå§‹åŒ–åˆ—è¡¨</h4><p>é™¤äº†è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œä¹‹å‰åˆå§‹åŒ–å®ä¾‹å˜é‡ã€‚æ¯ä¸ªå®ä¾‹å˜é‡ä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initializer list sets instance variables before</span></span><br><span class="line"><span class="comment">// the constructor body runs.</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œå‰è®¾ç½®å®ä¾‹å˜é‡ã€‚</span></span><br><span class="line">Point.fromJson(<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">double</span>&gt; json)</span><br><span class="line">    : x = json[<span class="string">&#x27;x&#x27;</span>]!,</span><br><span class="line">      y = json[<span class="string">&#x27;y&#x27;</span>]! &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;In Point.fromJson(): (<span class="subst">$x</span>, <span class="subst">$y</span>)&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>è¯·æ³¨æ„:</strong></p>
<p>åˆå§‹åŒ–åˆ—è¡¨è¡¨è¾¾å¼ = å³è¾¹çš„è¯­å¥ä¸èƒ½ä½¿ç”¨ <code>this</code> å…³é”®å­—ã€‚</p>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ä½¿ç”¨ <code>assert</code> æ¥éªŒè¯è¾“å…¥æ•°æ®ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Point.withAssert(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y) : <span class="keyword">assert</span>(x &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;In Point.withAssert(): (<span class="subst">$x</span>, <span class="subst">$y</span>)&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è®¾ç½® <code>final</code> å­—æ®µéå¸¸æ–¹ä¾¿ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¸­å°±ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è®¾ç½®äº†ä¸‰ä¸ª <code>final</code> å˜é‡çš„å€¼ã€‚ç‚¹å‡»è¿è¡ŒæŒ‰é’®æ‰§è¡Œç¤ºä¾‹ä»£ç ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> x;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> y;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> distanceFromOrigin;</span><br><span class="line"></span><br><span class="line">  Point(<span class="built_in">double</span> x, <span class="built_in">double</span> y)</span><br><span class="line">      : x = x,</span><br><span class="line">        y = y,</span><br><span class="line">        distanceFromOrigin = sqrt(x * x + y * y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> p = Point(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  <span class="built_in">print</span>(p.distanceFromOrigin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="é‡å®šå‘æ„é€ å‡½æ•°"><a href="#é‡å®šå‘æ„é€ å‡½æ•°" class="headerlink" title="é‡å®šå‘æ„é€ å‡½æ•°"></a>é‡å®šå‘æ„é€ å‡½æ•°</h4><p>æœ‰æ—¶å€™ç±»ä¸­çš„æ„é€ å‡½æ•°ä»…ç”¨äºè°ƒç”¨ç±»ä¸­å…¶å®ƒçš„æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶è¯¥æ„é€ å‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œåªéœ€åœ¨å‡½æ•°ç­¾ååä½¿ç”¨ï¼ˆ:ï¼‰æŒ‡å®šéœ€è¦é‡å®šå‘åˆ°çš„å…¶å®ƒæ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x, y;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¯¥ç±»çš„ä¸»æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å§”æ‰˜å®ç°ç»™ä¸»æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">  Point.alongXAxis(<span class="built_in">double</span> x) : <span class="keyword">this</span>(x, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å¸¸é‡æ„é€ å‡½æ•°"><a href="#å¸¸é‡æ„é€ å‡½æ•°" class="headerlink" title="å¸¸é‡æ„é€ å‡½æ•°"></a>å¸¸é‡æ„é€ å‡½æ•°</h4><p>å¦‚æœç±»ç”Ÿæˆçš„å¯¹è±¡éƒ½æ˜¯ä¸å˜çš„ï¼Œå¯ä»¥åœ¨ç”Ÿæˆè¿™äº›å¯¹è±¡æ—¶å°±å°†å…¶å˜ä¸ºç¼–è¯‘æ—¶å¸¸é‡ã€‚ä½ å¯ä»¥åœ¨ç±»çš„æ„é€ å‡½æ•°å‰åŠ ä¸Š <code>const</code> å…³é”®å­—å¹¶ç¡®ä¿æ‰€æœ‰å®ä¾‹å˜é‡å‡ä¸º <code>final</code> æ¥å®ç°è¯¥åŠŸèƒ½ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImmutablePoint</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> ImmutablePoint origin = ImmutablePoint(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> x, y;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> ImmutablePoint(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¸¸é‡æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹å¹¶ä¸æ€»æ˜¯å¸¸é‡ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#using-constructors">ä½¿ç”¨æ„é€ å‡½æ•°</a>ç« èŠ‚ã€‚</p>
<h4 id="å·¥å‚æ„é€ å‡½æ•°"><a href="#å·¥å‚æ„é€ å‡½æ•°" class="headerlink" title="å·¥å‚æ„é€ å‡½æ•°"></a>å·¥å‚æ„é€ å‡½æ•°</h4><p>ä½¿ç”¨ <code>factory</code> å…³é”®å­—æ ‡è¯†ç±»çš„æ„é€ å‡½æ•°å°†ä¼šä»¤è¯¥æ„é€ å‡½æ•°å˜ä¸ºå·¥å‚æ„é€ å‡½æ•°ï¼Œè¿™å°†æ„å‘³ç€ä½¿ç”¨è¯¥æ„é€ å‡½æ•°æ„é€ ç±»çš„å®ä¾‹æ—¶å¹¶éæ€»æ˜¯ä¼šè¿”å›æ–°çš„å®ä¾‹å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå·¥å‚æ„é€ å‡½æ•°å¯èƒ½ä¼šä»ç¼“å­˜ä¸­è¿”å›ä¸€ä¸ªå®ä¾‹ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªå­ç±»å‹çš„å®ä¾‹ã€‚</p>
<p>åœ¨å¦‚ä¸‹çš„ç¤ºä¾‹ä¸­ï¼Œ <code>Logger</code> çš„å·¥å‚æ„é€ å‡½æ•°ä»ç¼“å­˜ä¸­è¿”å›å¯¹è±¡ï¼Œå’Œ <code>Logger.fromJson</code> å·¥å‚æ„é€ å‡½æ•°ä» JSON å¯¹è±¡ä¸­åˆå§‹åŒ–ä¸€ä¸ªæœ€ç»ˆå˜é‡ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">bool</span> mute = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// _cache å˜é‡æ˜¯åº“ç§æœ‰çš„ï¼Œå› ä¸ºåœ¨å…¶åå­—å‰é¢æœ‰ä¸‹åˆ’çº¿ã€‚</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, Logger&gt; _cache =</span><br><span class="line">      &lt;<span class="built_in">String</span>, Logger&gt;&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">factory</span> Logger(<span class="built_in">String</span> name) &#123;</span><br><span class="line">    <span class="keyword">return</span> _cache.putIfAbsent(</span><br><span class="line">        name, () =&gt; Logger._internal(name));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">factory</span> Logger.fromJson(<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">Object</span>&gt; json) &#123;</span><br><span class="line">    <span class="keyword">return</span> Logger(json[<span class="string">&#x27;name&#x27;</span>].toString());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Logger._internal(<span class="keyword">this</span>.name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> log(<span class="built_in">String</span> msg) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!mute) <span class="built_in">print</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">åœ¨å·¥å‚æ„é€ å‡½æ•°ä¸­æ— æ³•è®¿é—® thisã€‚</span><br></pre></td></tr></table></figure>



<p>å·¥å‚æ„é€ å‡½æ•°çš„è°ƒç”¨æ–¹å¼ä¸å…¶ä»–æ„é€ å‡½æ•°ä¸€æ ·ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> logger = Logger(<span class="string">&#x27;UI&#x27;</span>);</span><br><span class="line">logger.log(<span class="string">&#x27;Button clicked&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logMap = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;UI&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> loggerJson = Logger.fromJson(logMap);</span><br></pre></td></tr></table></figure>

<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>æ–¹æ³•æ˜¯ä¸ºå¯¹è±¡æä¾›è¡Œä¸ºçš„å‡½æ•°ã€‚</p>
<h4 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h4><p>å¯¹è±¡çš„å®ä¾‹æ–¹æ³•å¯ä»¥è®¿é—®å®ä¾‹å˜é‡å’Œ <code>this</code>ã€‚ä¸‹é¢çš„ <code>distanceTo()</code> æ–¹æ³•å°±æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•çš„ä¾‹å­ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">double</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">double</span> distanceTo(Point other) &#123;</span><br><span class="line">    <span class="keyword">var</span> dx = x - other.x;</span><br><span class="line">    <span class="keyword">var</span> dy = y - other.y;</span><br><span class="line">    <span class="keyword">return</span> sqrt(dx * dx + dy * dy);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h4><p>è¿ç®—ç¬¦æ˜¯æœ‰ç€ç‰¹æ®Šåç§°çš„å®ä¾‹æ–¹æ³•ã€‚ Dart å…è®¸æ‚¨ä½¿ç”¨ä»¥ä¸‹åç§°å®šä¹‰è¿ç®—ç¬¦ï¼š</p>
<p>| <code>&lt;</code>  | <code>+</code>  | <code>|</code>  | <code>[]</code>  |<br>| â€”- | â€”- | â€”- | â€”â€“ |<br>| <code>&gt;</code>  | <code>/</code>  | <code>^</code>  | <code>[]=</code> |<br>| <code>&lt;=</code> | <code>~/</code> | <code>&amp;</code>  | <code>~</code>   |<br>| <code>&gt;=</code> | <code>*</code>  | <code>&lt;&lt;</code> | <code>==</code>  |<br>| <code>â€“</code>  | <code>%</code>  | <code>&gt;&gt;</code> |       |</p>
<p> <strong>å¤‡å¿˜:</strong></p>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°æœ‰ä¸€äº› <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#operators">æ“ä½œç¬¦</a> æ²¡æœ‰å‡ºç°åœ¨åˆ—è¡¨ä¸­ï¼Œä¾‹å¦‚ <code>!=</code>ã€‚å› ä¸ºå®ƒä»¬ä»…ä»…æ˜¯è¯­æ³•ç³–ã€‚è¡¨è¾¾å¼ <code>e1 != e2</code> ä»…ä»…æ˜¯ <code>!(e1 == e2)</code> çš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p>
<p>ä¸ºäº†è¡¨ç¤ºé‡å†™æ“ä½œç¬¦ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>operator</code> æ ‡è¯†æ¥è¿›è¡Œæ ‡è®°ã€‚ä¸‹é¢æ˜¯é‡å†™ <code>+</code> å’Œ <code>-</code> æ“ä½œç¬¦çš„ä¾‹å­ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> x, y;</span><br><span class="line"></span><br><span class="line">  Vector(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  Vector <span class="keyword">operator</span> +(Vector v) =&gt; Vector(x + v.x, y + v.y);</span><br><span class="line">  Vector <span class="keyword">operator</span> -(Vector v) =&gt; Vector(x - v.x, y - v.y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Operator == and hashCode not shown.</span></span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">final</span> v = Vector(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  <span class="keyword">final</span> w = Vector(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">assert</span>(v + w == Vector(<span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line">  <span class="keyword">assert</span>(v - w == Vector(<span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Getter-å’Œ-Setter"><a href="#Getter-å’Œ-Setter" class="headerlink" title="Getter å’Œ Setter"></a>Getter å’Œ Setter</h4><p>Getter å’Œ Setter æ˜¯ä¸€å¯¹ç”¨æ¥è¯»å†™å¯¹è±¡å±æ€§çš„ç‰¹æ®Šæ–¹æ³•ï¼Œä¸Šé¢è¯´è¿‡å®ä¾‹å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªéšå¼çš„ Getter æ–¹æ³•ï¼Œå¦‚æœä¸ºé final å±æ€§çš„è¯è¿˜ä¼šæœ‰ä¸€ä¸ª Setter æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>get</code> å’Œ <code>set</code> å…³é”®å­—ä¸ºé¢å¤–çš„å±æ€§æ·»åŠ  Getter å’Œ Setter æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> left, top, width, height;</span><br><span class="line"></span><br><span class="line">  Rectangle(<span class="keyword">this</span>.left, <span class="keyword">this</span>.top, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å®šä¹‰ä¸¤ä¸ªè®¡ç®—äº§ç”Ÿçš„å±æ€§ï¼šright å’Œ bottomã€‚</span></span><br><span class="line">  <span class="built_in">double</span> <span class="keyword">get</span> right =&gt; left + width;</span><br><span class="line">  <span class="keyword">set</span> right(<span class="built_in">double</span> value) =&gt; left = value - width;</span><br><span class="line">  <span class="built_in">double</span> <span class="keyword">get</span> bottom =&gt; top + height;</span><br><span class="line">  <span class="keyword">set</span> bottom(<span class="built_in">double</span> value) =&gt; top = value - height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> rect = Rectangle(<span class="number">3</span>, <span class="number">4</span>, <span class="number">20</span>, <span class="number">15</span>);</span><br><span class="line">  <span class="keyword">assert</span>(rect.left == <span class="number">3</span>);</span><br><span class="line">  rect.right = <span class="number">12</span>;</span><br><span class="line">  <span class="keyword">assert</span>(rect.left == <span class="number">-8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ Getter å’Œ Setter çš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥å…ˆä½¿ç”¨ä½ çš„å®ä¾‹å˜é‡ï¼Œè¿‡ä¸€æ®µæ—¶é—´è¿‡å†å°†å®ƒä»¬åŒ…è£¹æˆæ–¹æ³•ä¸”ä¸éœ€è¦æ”¹åŠ¨ä»»ä½•ä»£ç ï¼Œå³å…ˆå®šä¹‰åæ›´æ”¹ä¸”ä¸å½±å“åŸæœ‰é€»è¾‘ã€‚</p>
<h4 id="æŠ½è±¡æ–¹æ³•"><a href="#æŠ½è±¡æ–¹æ³•" class="headerlink" title="æŠ½è±¡æ–¹æ³•"></a>æŠ½è±¡æ–¹æ³•</h4><p>å®ä¾‹æ–¹æ³•ã€Getter æ–¹æ³•ä»¥åŠ Setter æ–¹æ³•éƒ½å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œå®šä¹‰ä¸€ä¸ªæ¥å£æ–¹æ³•è€Œä¸å»åšå…·ä½“çš„å®ç°è®©å®ç°å®ƒçš„ç±»å»å®ç°è¯¥æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•åªèƒ½å­˜åœ¨äº <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#abstract-classes">æŠ½è±¡ç±»</a>ä¸­ã€‚</p>
<p>ç›´æ¥ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰æ›¿ä»£æ–¹æ³•ä½“å³å¯å£°æ˜ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Doer</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å®šä¹‰å®ä¾‹å˜é‡å’Œæ–¹æ³•ç­‰ç­‰â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> doSomething(); <span class="comment">// å®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EffectiveDoer</span> <span class="keyword">extends</span> <span class="title">Doer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> doSomething() &#123;</span><br><span class="line">    <span class="comment">// æä¾›ä¸€ä¸ªå®ç°ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè¯¥æ–¹æ³•ä¸å†æ˜¯æŠ½è±¡çš„â€¦â€¦</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="-3"><a href="#-3" class="headerlink" title=""></a></h3><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p>ä½¿ç”¨å…³é”®å­— <code>abstract</code> æ ‡è¯†ç±»å¯ä»¥è®©è¯¥ç±»æˆä¸º <strong>æŠ½è±¡ç±»</strong>ï¼ŒæŠ½è±¡ç±»å°†æ— æ³•è¢«å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»å¸¸ç”¨äºå£°æ˜æ¥å£æ–¹æ³•ã€æœ‰æ—¶ä¹Ÿä¼šæœ‰å…·ä½“çš„æ–¹æ³•å®ç°ã€‚å¦‚æœæƒ³è®©æŠ½è±¡ç±»åŒæ—¶å¯è¢«å®ä¾‹åŒ–ï¼Œå¯ä»¥ä¸ºå…¶å®šä¹‰ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#factory-constructors">å·¥å‚æ„é€ å‡½æ•°</a>ã€‚</p>
<p>æŠ½è±¡ç±»å¸¸å¸¸ä¼šåŒ…å« <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#abstract-methods">æŠ½è±¡æ–¹æ³•</a>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå£°æ˜å…·æœ‰æŠ½è±¡æ–¹æ³•çš„æŠ½è±¡ç±»ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This class is declared abstract and thus</span></span><br><span class="line"><span class="comment">// can&#x27;t be instantiated.</span></span><br><span class="line"><span class="comment">// è¯¥ç±»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractContainer</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å®šä¹‰æ„é€ å‡½æ•°ã€å­—æ®µã€æ–¹æ³•ç­‰â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> updateChildren(); <span class="comment">// æŠ½è±¡æ–¹æ³•ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="éšå¼æ¥å£"><a href="#éšå¼æ¥å£" class="headerlink" title="éšå¼æ¥å£"></a>éšå¼æ¥å£</h3><p>æ¯ä¸€ä¸ªç±»éƒ½éšå¼åœ°å®šä¹‰äº†ä¸€ä¸ªæ¥å£å¹¶å®ç°äº†è¯¥æ¥å£ï¼Œè¿™ä¸ªæ¥å£åŒ…å«æ‰€æœ‰è¿™ä¸ªç±»çš„å®ä¾‹æˆå‘˜ä»¥åŠè¿™ä¸ªç±»æ‰€å®ç°çš„å…¶å®ƒæ¥å£ã€‚å¦‚æœæƒ³è¦åˆ›å»ºä¸€ä¸ª A ç±»æ”¯æŒè°ƒç”¨ B ç±»çš„ API ä¸”ä¸æƒ³ç»§æ‰¿ B ç±»ï¼Œåˆ™å¯ä»¥å®ç° B ç±»çš„æ¥å£ã€‚</p>
<p>ä¸€ä¸ªç±»å¯ä»¥é€šè¿‡å…³é”®å­— <code>implements</code> æ¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£å¹¶å®ç°æ¯ä¸ªæ¥å£å®šä¹‰çš„ APIï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A person. The implicit interface contains greet().</span></span><br><span class="line"><span class="comment">// Person ç±»çš„éšå¼æ¥å£ä¸­åŒ…å« greet() æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="comment">// In the interface, but visible only in this library.</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> _name;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°ä¸åœ¨æ¥å£ä¸­ã€‚</span></span><br><span class="line">  Person(<span class="keyword">this</span>._name);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// greet() æ–¹æ³•åœ¨æ¥å£ä¸­ã€‚</span></span><br><span class="line">  <span class="built_in">String</span> greet(<span class="built_in">String</span> who) =&gt; <span class="string">&#x27;ä½ å¥½ï¼Œ<span class="subst">$who</span>ã€‚æˆ‘æ˜¯<span class="subst">$_name</span>ã€‚&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Person æ¥å£çš„ä¸€ä¸ªå®ç°ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Impostor</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> <span class="keyword">get</span> _name =&gt; <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> greet(<span class="built_in">String</span> who) =&gt; <span class="string">&#x27;ä½ å¥½<span class="subst">$who</span>ã€‚ä½ çŸ¥é“æˆ‘æ˜¯è°å—ï¼Ÿ&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span> greetBob(Person person) =&gt; person.greet(<span class="string">&#x27;å°èŠ³&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(greetBob(Person(<span class="string">&#x27;å°èŠ¸&#x27;</span>)));</span><br><span class="line">  <span class="built_in">print</span>(greetBob(Impostor()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚æœéœ€è¦å®ç°å¤šä¸ªç±»æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨é€—å·åˆ†å‰²æ¯ä¸ªæ¥å£ç±»ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> <span class="keyword">implements</span> <span class="title">Comparable</span>, <span class="title">Location</span> </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>





<h3 id="æ‰©å±•ä¸€ä¸ªç±»"><a href="#æ‰©å±•ä¸€ä¸ªç±»" class="headerlink" title="æ‰©å±•ä¸€ä¸ªç±»"></a>æ‰©å±•ä¸€ä¸ªç±»</h3><p>ä½¿ç”¨ <code>extends</code> å…³é”®å­—æ¥åˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œå¹¶å¯ä½¿ç”¨ <code>super</code> å…³é”®å­—å¼•ç”¨ä¸€ä¸ªçˆ¶ç±»ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;</span><br><span class="line">    _illuminateDisplay();</span><br><span class="line">    _activateIrSensor();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartTelevision</span> <span class="keyword">extends</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;</span><br><span class="line">    <span class="keyword">super</span>.turnOn();</span><br><span class="line">    _bootNetworkInterface();</span><br><span class="line">    _initializeMemory();</span><br><span class="line">    _upgradeApps();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="é‡å†™ç±»æˆå‘˜"><a href="#é‡å†™ç±»æˆå‘˜" class="headerlink" title="é‡å†™ç±»æˆå‘˜"></a>é‡å†™ç±»æˆå‘˜</h4><p>å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•ï¼ˆåŒ…æ‹¬ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#_operators">æ“ä½œç¬¦</a>ï¼‰ã€ Getter ä»¥åŠ Setter æ–¹æ³•ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>@override</code> æ³¨è§£æ¥è¡¨ç¤ºä½ é‡å†™äº†ä¸€ä¸ªæˆå‘˜ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartTelevision</span> <span class="keyword">extends</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;...&#125;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="noSuchMethod-æ–¹æ³•"><a href="#noSuchMethod-æ–¹æ³•" class="headerlink" title="noSuchMethod æ–¹æ³•"></a>noSuchMethod æ–¹æ³•</h4><p>å¦‚æœè°ƒç”¨äº†å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„æ–¹æ³•æˆ–å®ä¾‹å˜é‡å°†ä¼šè§¦å‘ <code>noSuchMethod</code> æ–¹æ³•ï¼Œä½ å¯ä»¥é‡å†™ <code>noSuchMethod</code> æ–¹æ³•æ¥è¿½è¸ªå’Œè®°å½•è¿™ä¸€è¡Œä¸ºï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="comment">// é™¤éä½ é‡å†™ noSuchMethodï¼Œå¦åˆ™è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„æˆå‘˜ä¼šå¯¼è‡´ NoSuchMethodErrorã€‚</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> noSuchMethod(Invocation invocation) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;You tried to use a non-existent member: &#x27;</span></span><br><span class="line">        <span class="string">&#x27;<span class="subst">$&#123;invocation.memberName&#125;</span>&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä¸‹é¢å…¶ä¸­ä¸€ä¸ªæ¡ä»¶æˆç«‹æ—¶ï¼Œä½ æ‰èƒ½è°ƒç”¨ä¸€ä¸ªæœªå®ç°çš„æ–¹æ³•ï¼š</p>
<ul>
<li>æ¥æ”¶æ–¹æ˜¯é™æ€çš„ <code>dynamic</code> ç±»å‹ã€‚</li>
<li>æ¥æ”¶æ–¹å…·æœ‰é™æ€ç±»å‹ï¼Œå®šä¹‰äº†æœªå®ç°çš„æ–¹æ³•ï¼ˆæŠ½è±¡äº¦å¯ï¼‰ï¼Œå¹¶ä¸”æ¥æ”¶æ–¹çš„åŠ¨æ€ç±»å‹å®ç°äº† <code>noSuchMethod</code> æ–¹æ³•ä¸”å…·ä½“çš„å®ç°ä¸ <code>Object</code> ä¸­çš„ä¸åŒã€‚</li>
</ul>
<p>ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/blob/master/docs/language/informal/nosuchmethod-forwarding.md">noSuchMethod è½¬å‘è§„èŒƒ</a> è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p>
<h3 id="æ‰©å±•æ–¹æ³•"><a href="#æ‰©å±•æ–¹æ³•" class="headerlink" title="æ‰©å±•æ–¹æ³•"></a>æ‰©å±•æ–¹æ³•</h3><p>æ‰©å±•æ–¹æ³•æ˜¯å‘ç°æœ‰åº“æ·»åŠ åŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚ä½ å¯èƒ½å·²ç»åœ¨ä¸çŸ¥é“å®ƒæ˜¯æ‰©å±•æ–¹æ³•çš„æƒ…å†µä¸‹ä½¿ç”¨äº†å®ƒã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨åœ¨ IDE ä¸­ä½¿ç”¨ä»£ç å®ŒæˆåŠŸèƒ½æ—¶ï¼Œå®ƒå»ºè®®å°†æ‰©å±•æ–¹æ³•ä¸å¸¸è§„æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>è¿™é‡Œæ˜¯ä¸€ä¸ªåœ¨ <code>String</code> ä¸­ä½¿ç”¨æ‰©å±•æ–¹æ³•çš„æ ·ä¾‹ï¼Œæˆ‘ä»¬å–åä¸º <code>parseInt()</code>ï¼Œå®ƒåœ¨ <code>string_apis.dart</code> ä¸­å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#39;string_apis.dart&#39;;</span><br><span class="line">...</span><br><span class="line">print(&#39;42&#39;.padLeft(5)); &#x2F;&#x2F; Use a String method.</span><br><span class="line">print(&#39;42&#39;.parseInt()); &#x2F;&#x2F; Use an extension method.</span><br></pre></td></tr></table></figure>

<p>æœ‰å…³ä½¿ç”¨ä»¥åŠå®ç°æ‰©å±•æ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/extension-methods">æ‰©å±•æ–¹æ³•é¡µé¢</a>ã€‚</p>
<h3 id="æšä¸¾ç±»å‹"><a href="#æšä¸¾ç±»å‹" class="headerlink" title="æšä¸¾ç±»å‹"></a>æšä¸¾ç±»å‹</h3><p>æšä¸¾ç±»å‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œä¹Ÿç§°ä¸º <strong>enumerations</strong> æˆ– <strong>enums</strong>ï¼Œç”¨äºå®šä¹‰ä¸€äº›å›ºå®šæ•°é‡çš„å¸¸é‡å€¼ã€‚</p>
<h4 id="Using-enums"><a href="#Using-enums" class="headerlink" title="Using enums"></a>Using enums</h4><h3 id="ä½¿ç”¨æšä¸¾"><a href="#ä½¿ç”¨æšä¸¾" class="headerlink" title="ä½¿ç”¨æšä¸¾"></a>ä½¿ç”¨æšä¸¾</h3><p>ä½¿ç”¨å…³é”®å­— <code>enum</code> æ¥å®šä¹‰æšä¸¾ç±»å‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Color &#123; red, green, blue &#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨å£°æ˜æšä¸¾ç±»å‹æ—¶ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#trailing-comma">å°¾éšé€—å·</a>ã€‚</p>
<p>æ¯ä¸€ä¸ªæšä¸¾å€¼éƒ½æœ‰ä¸€ä¸ªåä¸º <code>index</code> æˆå‘˜å˜é‡çš„ Getter æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†ä¼šè¿”å›ä»¥ 0 ä¸ºåŸºå‡†ç´¢å¼•çš„ä½ç½®å€¼ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªæšä¸¾å€¼çš„ç´¢å¼•æ˜¯ 0 ï¼Œç¬¬äºŒä¸ªæšä¸¾å€¼çš„ç´¢å¼•æ˜¯ 1ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span>(Color.red.index == <span class="number">0</span>);</span><br><span class="line"><span class="keyword">assert</span>(Color.green.index == <span class="number">1</span>);</span><br><span class="line"><span class="keyword">assert</span>(Color.blue.index == <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>æƒ³è¦è·å¾—å…¨éƒ¨çš„æšä¸¾å€¼ï¼Œä½¿ç”¨æšä¸¾ç±»çš„ <code>values</code> æ–¹æ³•è·å–åŒ…å«å®ƒä»¬çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;Color&gt; colors = Color.values;</span><br><span class="line"><span class="keyword">assert</span>(colors[<span class="number">2</span>] == Color.blue);</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#switch-%E5%92%8C-case">Switch è¯­å¥</a>ä¸­ä½¿ç”¨æšä¸¾ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯å¿…é¡»å¤„ç†æšä¸¾å€¼çš„æ¯ä¸€ç§æƒ…å†µï¼Œå³æ¯ä¸€ä¸ªæšä¸¾å€¼éƒ½å¿…é¡»æˆä¸ºä¸€ä¸ª case å­å¥ï¼Œä¸ç„¶ä¼šå‡ºç°è­¦å‘Šï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aColor = Color.blue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (aColor) &#123;</span><br><span class="line">  <span class="keyword">case</span> Color.red:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;çº¢å¦‚ç«ç‘°ï¼&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> Color.green:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ç»¿å¦‚è‰åŸï¼&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>: <span class="comment">// æ²¡æœ‰è¯¥è¯­å¥ä¼šå‡ºç°è­¦å‘Šã€‚</span></span><br><span class="line">    <span class="built_in">print</span>(aColor); <span class="comment">// &#x27;Color.blue&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æšä¸¾ç±»å‹æœ‰å¦‚ä¸‹ä¸¤ä¸ªé™åˆ¶ï¼š</p>
<ul>
<li>æšä¸¾ä¸èƒ½æˆä¸ºå­ç±»ï¼Œä¹Ÿä¸å¯ä»¥ mix inï¼Œä½ ä¹Ÿä¸å¯ä»¥å®ç°ä¸€ä¸ªæšä¸¾ã€‚</li>
<li>ä¸èƒ½æ˜¾å¼åœ°å®ä¾‹åŒ–ä¸€ä¸ªæšä¸¾ç±»ã€‚</li>
</ul>
<p>ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/spec">Dart ç¼–ç¨‹è¯­è¨€è§„èŒƒ</a> è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p>
<h3 id="-4"><a href="#-4" class="headerlink" title=""></a></h3><h3 id="ä½¿ç”¨-Mixin-ä¸ºç±»æ·»åŠ åŠŸèƒ½"><a href="#ä½¿ç”¨-Mixin-ä¸ºç±»æ·»åŠ åŠŸèƒ½" class="headerlink" title="ä½¿ç”¨ Mixin ä¸ºç±»æ·»åŠ åŠŸèƒ½"></a>ä½¿ç”¨ Mixin ä¸ºç±»æ·»åŠ åŠŸèƒ½</h3><p>Mixin æ˜¯ä¸€ç§åœ¨å¤šé‡ç»§æ‰¿ä¸­å¤ç”¨æŸä¸ªç±»ä¸­ä»£ç çš„æ–¹æ³•æ¨¡å¼ã€‚</p>
<p>ä½¿ç”¨ <code>with</code> å…³é”®å­—å¹¶åœ¨å…¶åè·Ÿä¸Š Mixin ç±»çš„åå­—æ¥ä½¿ç”¨ Mixin æ¨¡å¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Musician</span> <span class="keyword">extends</span> <span class="title">Performer</span> <span class="title">with</span> <span class="title">Musical</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Maestro</span> <span class="keyword">extends</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class">    <span class="title">with</span> <span class="title">Musical</span>, <span class="title">Aggressive</span>, <span class="title">Demented</span> </span>&#123;</span><br><span class="line">  Maestro(<span class="built_in">String</span> maestroName) &#123;</span><br><span class="line">    name = maestroName;</span><br><span class="line">    canConduct = <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æƒ³è¦å®ç°ä¸€ä¸ª Mixinï¼Œè¯·åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª Object ä¸”æœªå£°æ˜æ„é€ å‡½æ•°çš„ç±»ã€‚é™¤éä½ æƒ³è®©è¯¥ç±»ä¸æ™®é€šçš„ç±»ä¸€æ ·å¯ä»¥è¢«æ­£å¸¸åœ°ä½¿ç”¨ï¼Œå¦åˆ™è¯·ä½¿ç”¨å…³é”®å­— <code>mixin</code> æ›¿ä»£ <code>class</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mixin</span> Musical &#123;</span><br><span class="line">  <span class="built_in">bool</span> canPlayPiano = <span class="keyword">false</span>;</span><br><span class="line">  <span class="built_in">bool</span> canCompose = <span class="keyword">false</span>;</span><br><span class="line">  <span class="built_in">bool</span> canConduct = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> entertainMe() &#123;</span><br><span class="line">    <span class="keyword">if</span> (canPlayPiano) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;Playing piano&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (canConduct) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;Waving hands&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;Humming to self&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨å…³é”®å­— <code>on</code> æ¥æŒ‡å®šå“ªäº›ç±»å¯ä»¥ä½¿ç”¨è¯¥ Mixin ç±»ï¼Œæ¯”å¦‚æœ‰ Mixin ç±» Aï¼Œä½†æ˜¯ A åªèƒ½è¢« B ç±»ä½¿ç”¨ï¼Œåˆ™å¯ä»¥è¿™æ ·å®šä¹‰ Aï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Musician</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">mixin</span> MusicalPerformer <span class="keyword">on</span> Musician &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingerDancer</span> <span class="keyword">extends</span> <span class="title">Musician</span> <span class="title">with</span> <span class="title">MusicalPerformer</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç±»å˜é‡å’Œæ–¹æ³•"><a href="#ç±»å˜é‡å’Œæ–¹æ³•" class="headerlink" title="ç±»å˜é‡å’Œæ–¹æ³•"></a>ç±»å˜é‡å’Œæ–¹æ³•</h3><p>ä½¿ç”¨å…³é”®å­— <code>static</code> å¯ä»¥å£°æ˜ç±»å˜é‡æˆ–ç±»æ–¹æ³•ã€‚</p>
<h4 id="é™æ€å˜é‡"><a href="#é™æ€å˜é‡" class="headerlink" title="é™æ€å˜é‡"></a>é™æ€å˜é‡</h4><p>é™æ€å˜é‡ï¼ˆå³ç±»å˜é‡ï¼‰å¸¸ç”¨äºå£°æ˜ç±»èŒƒå›´å†…æ‰€å±çš„çŠ¶æ€å˜é‡å’Œå¸¸é‡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> initialCapacity = <span class="number">16</span>;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">assert</span>(Queue.initialCapacity == <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™æ€å˜é‡åœ¨å…¶é¦–æ¬¡è¢«ä½¿ç”¨çš„æ—¶å€™æ‰è¢«åˆå§‹åŒ–ã€‚</p>
<h4 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h4><p>é™æ€æ–¹æ³•ï¼ˆå³ç±»æ–¹æ³•ï¼‰ä¸èƒ½å¯¹å®ä¾‹è¿›è¡Œæ“ä½œï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ <code>this</code>ã€‚ä½†æ˜¯ä»–ä»¬å¯ä»¥è®¿é—®é™æ€å˜é‡ã€‚å¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªç±»ä¸Šç›´æ¥è°ƒç”¨é™æ€æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x, y;</span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">double</span> distanceBetween(Point a, Point b) &#123;</span><br><span class="line">    <span class="keyword">var</span> dx = a.x - b.x;</span><br><span class="line">    <span class="keyword">var</span> dy = a.y - b.y;</span><br><span class="line">    <span class="keyword">return</span> sqrt(dx * dx + dy * dy);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> a = Point(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> b = Point(<span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">  <span class="keyword">var</span> distance = Point.distanceBetween(a, b);</span><br><span class="line">  <span class="keyword">assert</span>(<span class="number">2.8</span> &lt; distance &amp;&amp; distance &lt; <span class="number">2.9</span>);</span><br><span class="line">  <span class="built_in">print</span>(distance);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>å¦‚æœä½ æŸ¥çœ‹æ•°ç»„çš„ API æ–‡æ¡£ï¼Œä½ ä¼šå‘ç°æ•°ç»„ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/List-class.html"><code>List</code></a> çš„å®é™…ç±»å‹ä¸º <code>List&lt;E&gt;</code>ã€‚ &lt;â€¦&gt; ç¬¦å·è¡¨ç¤ºæ•°ç»„æ˜¯ä¸€ä¸ª <em>æ³›å‹</em>ï¼ˆæˆ– <em>å‚æ•°åŒ–ç±»å‹</em>ï¼‰ <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/effective-dart/design#do-follow-existing-mnemonic-conventions-when-naming-type-parameters">é€šå¸¸</a> ä½¿ç”¨ä¸€ä¸ªå­—æ¯æ¥ä»£è¡¨ç±»å‹å‚æ•°ï¼Œæ¯”å¦‚ Eã€Tã€Sã€K å’Œ V ç­‰ç­‰ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹ï¼Ÿ</h3><p>æ³›å‹å¸¸ç”¨äºéœ€è¦è¦æ±‚ç±»å‹å®‰å…¨çš„æƒ…å†µï¼Œä½†æ˜¯å®ƒä¹Ÿä¼šå¯¹ä»£ç è¿è¡Œæœ‰å¥½å¤„ï¼š</p>
<ul>
<li>é€‚å½“åœ°æŒ‡å®šæ³›å‹å¯ä»¥æ›´å¥½åœ°å¸®åŠ©ä»£ç ç”Ÿæˆã€‚</li>
<li>ä½¿ç”¨æ³›å‹å¯ä»¥å‡å°‘ä»£ç é‡å¤ã€‚</li>
</ul>
<p>æ¯”å¦‚ä½ æƒ³å£°æ˜ä¸€ä¸ªåªèƒ½åŒ…å« String ç±»å‹çš„æ•°ç»„ï¼Œä½ å¯ä»¥å°†è¯¥æ•°ç»„å£°æ˜ä¸º <code>List&lt;String&gt;</code>ï¼ˆè¯»ä½œâ€œå­—ç¬¦ä¸²ç±»å‹çš„ listâ€ï¼‰ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥å¾ˆå®¹æ˜“é¿å…å› ä¸ºåœ¨è¯¥æ•°ç»„æ”¾å…¥é String ç±»å˜é‡è€Œå¯¼è‡´çš„è¯¸å¤šé—®é¢˜ï¼ŒåŒæ—¶ç¼–è¯‘å™¨ä»¥åŠå…¶ä»–é˜…è¯»ä»£ç çš„äººéƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°å‘ç°å¹¶å®šä½é—®é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var names &#x3D; &lt;String&gt;[];</span><br><span class="line">names.addAll([&#39;Seth&#39;, &#39;Kathy&#39;, &#39;Lars&#39;]);</span><br><span class="line">names.add(42); &#x2F;&#x2F; Error</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªä½¿ç”¨æ³›å‹çš„åŸå› æ˜¯å¯ä»¥å‡å°‘é‡å¤ä»£ç ã€‚æ³›å‹å¯ä»¥è®©ä½ åœ¨å¤šä¸ªä¸åŒç±»å‹å®ç°ä¹‹é—´å…±äº«åŒä¸€ä¸ªæ¥å£å£°æ˜ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­å£°æ˜äº†ä¸€ä¸ªç±»ç”¨äºç¼“å­˜å¯¹è±¡çš„æ¥å£ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectCache</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span> getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, <span class="built_in">Object</span> value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ä¹…åä½ å¯èƒ½åˆä¼šæƒ³ä¸“é—¨ä¸º String ç±»å¯¹è±¡åšä¸€ä¸ªç¼“å­˜ï¼Œäºæ˜¯åˆæœ‰äº†ä¸“é—¨ä¸º String åšç¼“å­˜çš„ç±»ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">StringCache</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, <span class="built_in">String</span> value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿‡æ®µæ—¶é—´ä½ åˆæƒ³ä¸ºæ•°å­—ç±»å‹ä¹Ÿåˆ›å»ºä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¾ˆå¤šè¯¸å¦‚æ­¤ç±»çš„ä»£ç â€¦â€¦</p>
<p>è¿™æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨æ³›å‹æ¥å£°æ˜ä¸€ä¸ªç±»ï¼Œè®©ä¸åŒç±»å‹çš„ç¼“å­˜å®ç°è¯¥ç±»åšå‡ºä¸åŒçš„å…·ä½“å®ç°å³å¯ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  T getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, T value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒT æ˜¯ä¸€ä¸ªæ›¿ä»£ç±»å‹ã€‚å…¶ç›¸å½“äºç±»å‹å ä½ç¬¦ï¼Œåœ¨å¼€å‘è€…è°ƒç”¨è¯¥æ¥å£çš„æ—¶å€™ä¼šæŒ‡å®šå…·ä½“ç±»å‹ã€‚</p>
<h3 id="-5"><a href="#-5" class="headerlink" title=""></a></h3><h3 id="ä½¿ç”¨é›†åˆå­—é¢é‡"><a href="#ä½¿ç”¨é›†åˆå­—é¢é‡" class="headerlink" title="ä½¿ç”¨é›†åˆå­—é¢é‡"></a>ä½¿ç”¨é›†åˆå­—é¢é‡</h3><p>Listã€Set ä»¥åŠ Map å­—é¢é‡ä¹Ÿå¯ä»¥æ˜¯å‚æ•°åŒ–çš„ã€‚å®šä¹‰å‚æ•°åŒ–çš„ List åªéœ€åœ¨ä¸­æ‹¬å·å‰æ·»åŠ  <code>&lt;*type*&gt;</code>ï¼›å®šä¹‰å‚æ•°åŒ–çš„ Map åªéœ€è¦åœ¨å¤§æ‹¬å·å‰æ·»åŠ  <code>&lt;*keyType*, *valueType*&gt;</code>ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;[<span class="string">&#x27;å°èŠ¸&#x27;</span>, <span class="string">&#x27;å°èŠ³&#x27;</span>, <span class="string">&#x27;å°æ°‘&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> uniqueNames = &lt;<span class="built_in">String</span>&gt;&#123;<span class="string">&#x27;å°èŠ¸&#x27;</span>, <span class="string">&#x27;å°èŠ³&#x27;</span>, <span class="string">&#x27;å°æ°‘&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> pages = &lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt;&#123;</span><br><span class="line">  <span class="string">&#x27;index.html&#x27;</span>: <span class="string">&#x27;ä¸»é¡µ&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;robots.txt&#x27;</span>: <span class="string">&#x27;ç½‘é¡µæœºå™¨äººæç¤º&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;humans.txt&#x27;</span>: <span class="string">&#x27;æˆ‘ä»¬æ˜¯äººç±»ï¼Œä¸æ˜¯æœºå™¨&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨ç±»å‹å‚æ•°åŒ–çš„æ„é€ å‡½æ•°"><a href="#ä½¿ç”¨ç±»å‹å‚æ•°åŒ–çš„æ„é€ å‡½æ•°" class="headerlink" title="ä½¿ç”¨ç±»å‹å‚æ•°åŒ–çš„æ„é€ å‡½æ•°"></a>ä½¿ç”¨ç±»å‹å‚æ•°åŒ–çš„æ„é€ å‡½æ•°</h3><p>åœ¨è°ƒç”¨æ„é€ æ–¹æ³•æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å‹ï¼Œåªéœ€åœ¨ç±»ååç”¨å°–æ‹¬å·ï¼ˆ<code>&lt;...&gt;</code>ï¼‰å°†ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹åŒ…è£¹å³å¯ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nameSet = <span class="built_in">Set</span>&lt;<span class="built_in">String</span>&gt;.from(names);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä»£ç åˆ›å»ºäº†ä¸€ä¸ªé”®ä¸º Int ç±»å‹ï¼Œå€¼ä¸º View ç±»å‹çš„ Map å¯¹è±¡ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> views = <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, View&gt;();</span><br></pre></td></tr></table></figure>

<h3 id="æ³›å‹é›†åˆä»¥åŠå®ƒä»¬æ‰€åŒ…å«çš„ç±»å‹"><a href="#æ³›å‹é›†åˆä»¥åŠå®ƒä»¬æ‰€åŒ…å«çš„ç±»å‹" class="headerlink" title="æ³›å‹é›†åˆä»¥åŠå®ƒä»¬æ‰€åŒ…å«çš„ç±»å‹"></a>æ³›å‹é›†åˆä»¥åŠå®ƒä»¬æ‰€åŒ…å«çš„ç±»å‹</h3><p>Dartçš„æ³›å‹ç±»å‹æ˜¯ <strong>å›ºåŒ–çš„</strong>ï¼Œè¿™æ„å‘³ç€å³ä¾¿åœ¨è¿è¡Œæ—¶ä¹Ÿä¼šä¿æŒç±»å‹ä¿¡æ¯ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;[];</span><br><span class="line">names.addAll([<span class="string">&#x27;Seth&#x27;</span>, <span class="string">&#x27;Kathy&#x27;</span>, <span class="string">&#x27;Lars&#x27;</span>]);</span><br><span class="line"><span class="built_in">print</span>(names <span class="keyword">is</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤‡å¿˜:</span><br><span class="line"></span><br><span class="line">ä¸ Java ä¸åŒçš„æ˜¯ï¼ŒJava ä¸­çš„æ³›å‹æ˜¯ç±»å‹ æ“¦é™¤ çš„ï¼Œè¿™æ„å‘³ç€æ³›å‹ç±»å‹ä¼šåœ¨è¿è¡Œæ—¶è¢«ç§»é™¤ã€‚åœ¨ Java ä¸­ä½ å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸º List ä½†ä¸å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸º List&lt;String&gt;ã€‚</span><br></pre></td></tr></table></figure>



<h3 id="é™åˆ¶å‚æ•°åŒ–ç±»å‹"><a href="#é™åˆ¶å‚æ•°åŒ–ç±»å‹" class="headerlink" title="é™åˆ¶å‚æ•°åŒ–ç±»å‹"></a>é™åˆ¶å‚æ•°åŒ–ç±»å‹</h3><p>æœ‰æ—¶ä½¿ç”¨æ³›å‹çš„æ—¶å€™å¯èƒ½ä¼šæƒ³é™åˆ¶æ³›å‹çš„ç±»å‹èŒƒå›´ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ <code>extends</code> å…³é”®å­—ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">SomeBaseClass</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// å…·ä½“å®ç°â€¦â€¦</span></span><br><span class="line">  <span class="built_in">String</span> toString() =&gt; <span class="string">&quot;&#x27;Foo&lt;<span class="subst">$T</span>&gt;&#x27; çš„å®ä¾‹&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Extender</span> <span class="keyword">extends</span> <span class="title">SomeBaseClass</span> </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>SomeBaseClass</code> æˆ–è€…å®ƒçš„å­ç±»æ¥ä½œä¸ºæ³›å‹å‚æ•°ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someBaseClassFoo = Foo&lt;SomeBaseClass&gt;();</span><br><span class="line"><span class="keyword">var</span> extenderFoo = Foo&lt;Extender&gt;();</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™ä¹Ÿå¯ä»¥æŒ‡å®šæ— å‚æ•°çš„æ³›å‹ï¼Œè¿™æ—¶æ— å‚æ•°æ³›å‹çš„ç±»å‹åˆ™ä¸º <code>Foo&lt;SomeBaseClass&gt;</code>ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = Foo();</span><br><span class="line"><span class="built_in">print</span>(foo); <span class="comment">// &#x27;Foo&lt;SomeBaseClass&gt;&#x27; çš„å®ä¾‹ (Instance of &#x27;Foo&lt;SomeBaseClass&gt;&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>å°†é <code>SomeBaseClass</code> çš„ç±»å‹ä½œä¸ºæ³›å‹å‚æ•°åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = Foo&lt;<span class="built_in">Object</span>&gt;();</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨æ³›å‹æ–¹æ³•"><a href="#ä½¿ç”¨æ³›å‹æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ³›å‹æ–¹æ³•"></a>ä½¿ç”¨æ³›å‹æ–¹æ³•</h3><p>èµ·åˆ Dart åªæ”¯æŒåœ¨ç±»çš„å£°æ˜æ—¶æŒ‡å®šæ³›å‹ï¼Œç°åœ¨åŒæ ·ä¹Ÿå¯ä»¥åœ¨æ–¹æ³•ä¸Šä½¿ç”¨æ³›å‹ï¼Œç§°ä¹‹ä¸º <strong>æ³›å‹æ–¹æ³•</strong>ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">T first&lt;T&gt;(<span class="built_in">List</span>&lt;T&gt; ts) &#123;</span><br><span class="line">  <span class="comment">// å¤„ç†ä¸€äº›åˆå§‹åŒ–å·¥ä½œæˆ–é”™è¯¯æ£€æµ‹â€¦â€¦</span></span><br><span class="line">  T tmp = ts[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">// å¤„ç†ä¸€äº›é¢å¤–çš„æ£€æŸ¥â€¦â€¦</span></span><br><span class="line">  <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³• <code>first&lt;T&gt;</code> çš„æ³›å‹ <code>T</code> å¯ä»¥åœ¨å¦‚ä¸‹åœ°æ–¹ä½¿ç”¨ï¼š</p>
<ul>
<li>å‡½æ•°çš„è¿”å›å€¼ç±»å‹ (<code>T</code>)ã€‚</li>
<li>å‚æ•°çš„ç±»å‹ (<code>List&lt;T&gt;</code>)ã€‚</li>
<li>å±€éƒ¨å˜é‡çš„ç±»å‹ (<code>T tmp</code>)ã€‚</li>
</ul>
<p>ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/blob/master/pkg/dev_compiler/doc/GENERIC_METHODS.md">ä½¿ç”¨æ³›å‹å‡½æ•°</a> è·å–æ›´å¤šå…³äºæ³›å‹çš„ä¿¡æ¯ã€‚</p>
<h2 id="åº“å’Œå¯è§æ€§"><a href="#åº“å’Œå¯è§æ€§" class="headerlink" title="åº“å’Œå¯è§æ€§"></a>åº“å’Œå¯è§æ€§</h2><p><code>import</code> å’Œ <code>library</code> å…³é”®å­—å¯ä»¥å¸®åŠ©ä½ åˆ›å»ºä¸€ä¸ªæ¨¡å—åŒ–å’Œå¯å…±äº«çš„ä»£ç åº“ã€‚ä»£ç åº“ä¸ä»…åªæ˜¯æä¾› API è€Œä¸”è¿˜èµ·åˆ°äº†å°è£…çš„ä½œç”¨ï¼šä»¥ä¸‹åˆ’çº¿ï¼ˆ<code>_</code>ï¼‰å¼€å¤´çš„æˆå‘˜ä»…åœ¨ä»£ç åº“ä¸­å¯è§ã€‚ <strong>æ¯ä¸ª Dart ç¨‹åºéƒ½æ˜¯ä¸€ä¸ªåº“</strong>ï¼Œå³ä¾¿æ²¡æœ‰ä½¿ç”¨å…³é”®å­— <code>library</code> æŒ‡å®šã€‚</p>
<p>Dart çš„åº“å¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://dart.cn/guides/packages">åŒ…å·¥å…·</a> æ¥å‘å¸ƒå’Œéƒ¨ç½²ã€‚</p>
<p>å¦‚æœä½ å¯¹ Dart ä¸ºä½•ä½¿ç”¨ä¸‹åˆ’çº¿è€Œä¸ä½¿ç”¨ <code>public</code> æˆ– <code>private</code> ä½œä¸ºå¯è®¿é—®æ€§å…³é”®å­—ï¼Œå¯ä»¥æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/issues/33383">SDK issue 33383</a>ã€‚</p>
<h3 id="ä½¿ç”¨åº“"><a href="#ä½¿ç”¨åº“" class="headerlink" title="ä½¿ç”¨åº“"></a>ä½¿ç”¨åº“</h3><p>ä½¿ç”¨ <code>import</code> æ¥æŒ‡å®šå‘½åç©ºé—´ä»¥ä¾¿å…¶å®ƒåº“å¯ä»¥è®¿é—®ã€‚</p>
<p>æ¯”å¦‚ä½ å¯ä»¥å¯¼å…¥ä»£ç åº“ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-html">dart:html</a> æ¥ä½¿ç”¨ Dart Web ä¸­ç›¸å…³ APIï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:html&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><code>import</code> çš„å”¯ä¸€å‚æ•°æ˜¯ç”¨äºæŒ‡å®šä»£ç åº“çš„ URIï¼Œå¯¹äº Dart å†…ç½®çš„åº“ï¼Œä½¿ç”¨ <code>dart:xxxxxx</code> çš„å½¢å¼ã€‚è€Œå¯¹äºå…¶å®ƒçš„åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè·¯å¾„æˆ–è€…ä»¥ <code>package:xxxxxx</code> çš„å½¢å¼ã€‚ <code>package:xxxxxx</code> æŒ‡å®šçš„åº“é€šè¿‡åŒ…ç®¡ç†å™¨ï¼ˆæ¯”å¦‚ pub å·¥å…·ï¼‰æ¥æä¾›ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:test/test.dart&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p> <strong>å¤‡å¿˜:</strong></p>
<p><strong>URI</strong> ä»£è¡¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚</p>
<p><strong>URL</strong>ï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æ˜¯ä¸€ç§å¸¸è§çš„ URIã€‚</p>
<h4 id="æŒ‡å®šåº“å‰ç¼€"><a href="#æŒ‡å®šåº“å‰ç¼€" class="headerlink" title="æŒ‡å®šåº“å‰ç¼€"></a>æŒ‡å®šåº“å‰ç¼€</h4><p>å¦‚æœä½ å¯¼å…¥çš„ä¸¤ä¸ªä»£ç åº“æœ‰å†²çªçš„æ ‡è¯†ç¬¦ï¼Œä½ å¯ä»¥ä¸ºå…¶ä¸­ä¸€ä¸ªæŒ‡å®šå‰ç¼€ã€‚æ¯”å¦‚å¦‚æœ library1 å’Œ library2 éƒ½æœ‰ Element ç±»ï¼Œé‚£ä¹ˆå¯ä»¥è¿™ä¹ˆå¤„ç†ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib1/lib1.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib2/lib2.dart&#x27;</span> <span class="keyword">as</span> lib2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ lib1 çš„ Element ç±»ã€‚</span></span><br><span class="line"><span class="built_in">Element</span> element1 = <span class="built_in">Element</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ lib2 çš„ Element ç±»ã€‚</span></span><br><span class="line">lib2.<span class="built_in">Element</span> element2 = lib2.<span class="built_in">Element</span>();</span><br></pre></td></tr></table></figure>

<h4 id="å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†"><a href="#å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†" class="headerlink" title="å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†"></a>å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†</h4><p>å¦‚æœä½ åªæƒ³ä½¿ç”¨ä»£ç åº“ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä½ å¯ä»¥æœ‰é€‰æ‹©åœ°å¯¼å…¥ä»£ç åº“ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªå¯¼å…¥ lib1 ä¸­çš„ fooã€‚(Import only foo).</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib1/lib1.dart&#x27;</span> <span class="keyword">show</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥ lib2 ä¸­é™¤äº† foo å¤–çš„æ‰€æœ‰ã€‚</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib2/lib2.dart&#x27;</span> <span class="keyword">hide</span> foo;</span><br></pre></td></tr></table></figure>



<h4 id="å»¶è¿ŸåŠ è½½åº“"><a href="#å»¶è¿ŸåŠ è½½åº“" class="headerlink" title="å»¶è¿ŸåŠ è½½åº“"></a>å»¶è¿ŸåŠ è½½åº“</h4><p><strong>å»¶è¿ŸåŠ è½½</strong>ï¼ˆä¹Ÿå¸¸ç§°ä¸º <strong>æ‡’åŠ è½½</strong>ï¼‰å…è®¸åº”ç”¨åœ¨éœ€è¦æ—¶å†å»åŠ è½½ä»£ç åº“ï¼Œä¸‹é¢æ˜¯å¯èƒ½ä½¿ç”¨åˆ°å»¶è¿ŸåŠ è½½çš„åœºæ™¯ï¼š</p>
<ul>
<li>ä¸ºäº†å‡å°‘åº”ç”¨çš„åˆå§‹åŒ–æ—¶é—´ã€‚</li>
<li>å¤„ç† A/B æµ‹è¯•ï¼Œæ¯”å¦‚æµ‹è¯•å„ç§ç®—æ³•çš„ä¸åŒå®ç°ã€‚</li>
<li>åŠ è½½å¾ˆå°‘ä¼šä½¿ç”¨åˆ°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å¯é€‰çš„å±å¹•å’Œå¯¹è¯æ¡†ã€‚</li>
</ul>
<p><strong>ç›®å‰åªæœ‰ dart2js æ”¯æŒå»¶è¿ŸåŠ è½½</strong> Flutterã€Dart VM ä»¥åŠ DartDevc ç›®å‰éƒ½ä¸æ”¯æŒå»¶è¿ŸåŠ è½½ã€‚ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/issues/33118">issue #33118</a> å’Œ <a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/issues/27776">issue #27776</a> è·å–æ›´å¤šçš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>ä½¿ç”¨ <code>deferred as</code> å…³é”®å­—æ¥æ ‡è¯†éœ€è¦å»¶æ—¶åŠ è½½çš„ä»£ç åº“ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:greetings/hello.dart&#x27;</span> <span class="keyword">deferred</span> <span class="keyword">as</span> hello;</span><br></pre></td></tr></table></figure>

<p>å½“å®é™…éœ€è¦ä½¿ç”¨åˆ°åº“ä¸­ API æ—¶å…ˆè°ƒç”¨ <code>loadLibrary</code> å‡½æ•°åŠ è½½åº“ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="keyword">void</span>&gt; greet() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> hello.loadLibrary();</span><br><span class="line">  hello.printGreeting();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‰é¢çš„ä»£ç ï¼Œä½¿ç”¨ <code>await</code> å…³é”®å­—æš‚åœä»£ç æ‰§è¡Œç›´åˆ°åº“åŠ è½½å®Œæˆã€‚æ›´å¤šå…³äº <code>async</code> å’Œ <code>await</code> çš„ä¿¡æ¯è¯·å‚è€ƒ<a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#asynchrony-support">å¼‚æ­¥æ”¯æŒ</a>ã€‚</p>
<p><code>loadLibrary</code> å‡½æ•°å¯ä»¥è°ƒç”¨å¤šæ¬¡ä¹Ÿæ²¡å…³ç³»ï¼Œä»£ç åº“åªä¼šè¢«åŠ è½½ä¸€æ¬¡ã€‚</p>
<p>å½“ä½ ä½¿ç”¨å»¶è¿ŸåŠ è½½çš„æ—¶å€™éœ€è¦ç‰¢è®°ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å»¶è¿ŸåŠ è½½çš„ä»£ç åº“ä¸­çš„å¸¸é‡éœ€è¦åœ¨ä»£ç åº“è¢«åŠ è½½çš„æ—¶å€™æ‰ä¼šå¯¼å…¥ï¼ŒæœªåŠ è½½æ—¶æ˜¯ä¸ä¼šå¯¼å…¥çš„ã€‚</li>
<li>å¯¼å…¥æ–‡ä»¶çš„æ—¶å€™æ— æ³•ä½¿ç”¨å»¶è¿ŸåŠ è½½åº“ä¸­çš„ç±»å‹ã€‚å¦‚æœä½ éœ€è¦ä½¿ç”¨ç±»å‹ï¼Œåˆ™è€ƒè™‘æŠŠæ¥å£ç±»å‹è½¬ç§»åˆ°å¦ä¸€ä¸ªåº“ä¸­ç„¶åè®©ä¸¤ä¸ªåº“éƒ½åˆ†åˆ«å¯¼å…¥è¿™ä¸ªæ¥å£åº“ã€‚</li>
<li>Dartä¼šéšå¼åœ°å°† <code>loadLibrary()</code> å¯¼å…¥åˆ°ä½¿ç”¨äº† <code>deferred as *å‘½åç©ºé—´*</code> çš„ç±»ä¸­ã€‚ <code>loadLibrary()</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/library-tour#future">Future</a>ã€‚</li>
</ul>
<h3 id="-6"><a href="#-6" class="headerlink" title=""></a></h3><h3 id="å®ç°åº“"><a href="#å®ç°åº“" class="headerlink" title="å®ç°åº“"></a>å®ç°åº“</h3><p>æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/create-library-packages">åˆ›å»ºä¾èµ–åº“åŒ…</a> å¯ä»¥è·å–æœ‰å…³å¦‚ä½•å®ç°åº“åŒ…çš„å»ºè®®ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å¦‚ä½•ç»„ç»‡åº“çš„æºæ–‡ä»¶ã€‚</li>
<li>å¦‚ä½•ä½¿ç”¨ <code>export</code> å‘½ä»¤ã€‚</li>
<li>ä½•æ—¶ä½¿ç”¨ <code>part</code> å‘½ä»¤ã€‚</li>
<li>ä½•æ—¶ä½¿ç”¨ <code>library</code> å‘½ä»¤ã€‚</li>
<li>å¦‚ä½•ä½¿ç”¨å€’å…¥å’Œå¯¼å‡ºå‘½ä»¤å®ç°å¤šå¹³å°çš„åº“æ”¯æŒã€‚</li>
</ul>
<h2 id="å¼‚æ­¥æ”¯æŒ"><a href="#å¼‚æ­¥æ”¯æŒ" class="headerlink" title="å¼‚æ­¥æ”¯æŒ"></a>å¼‚æ­¥æ”¯æŒ</h2><p>Dart ä»£ç åº“ä¸­æœ‰å¤§é‡è¿”å› <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-async/Future-class.html"><code>Future</code></a> æˆ– <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-async/Stream-class.html"><code>Stream</code></a> å¯¹è±¡çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°éƒ½æ˜¯ <strong>å¼‚æ­¥</strong> çš„ï¼Œå®ƒä»¬ä¼šåœ¨è€—æ—¶æ“ä½œï¼ˆæ¯”å¦‚I/Oï¼‰æ‰§è¡Œå®Œæ¯•å‰ç›´æ¥è¿”å›è€Œä¸ä¼šç­‰å¾…è€—æ—¶æ“ä½œæ‰§è¡Œå®Œæ¯•ã€‚</p>
<p><code>async</code> å’Œ <code>await</code> å…³é”®å­—ç”¨äºå®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶ä¸”è®©ä½ çš„ä»£ç çœ‹èµ·æ¥å°±åƒæ˜¯åŒæ­¥çš„ä¸€æ ·ã€‚</p>
<h3 id="å¤„ç†-Future"><a href="#å¤„ç†-Future" class="headerlink" title="å¤„ç† Future"></a>å¤„ç† Future</h3><p>å¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼ï¼Œè·å¾— Future æ‰§è¡Œå®Œæˆçš„ç»“æœï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>async</code> å’Œ <code>await</code>ï¼›</li>
<li>ä½¿ç”¨ Future APIï¼Œå…·ä½“æè¿°å‚è€ƒ <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/library-tour#future">åº“æ¦‚è§ˆ</a>ã€‚</li>
</ul>
<p>ä½¿ç”¨ <code>async</code> å’Œ <code>await</code> çš„ä»£ç æ˜¯å¼‚æ­¥çš„ï¼Œä½†æ˜¯çœ‹èµ·æ¥æœ‰ç‚¹åƒåŒæ­¥ä»£ç ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ä½¿ç”¨ <code>await</code> ç­‰å¾…å¼‚æ­¥å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> lookUpVersion();</span><br></pre></td></tr></table></figure>

<p>å¿…é¡»åœ¨å¸¦æœ‰ async å…³é”®å­—çš„ <strong>å¼‚æ­¥å‡½æ•°</strong> ä¸­ä½¿ç”¨ <code>await</code>ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="keyword">void</span>&gt; checkVersion() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> version = <span class="keyword">await</span> lookUpVersion();</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ version ç»§ç»­å¤„ç†é€»è¾‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <strong>å¤‡å¿˜:</strong></p>
<p>å°½ç®¡å¼‚æ­¥å‡½æ•°å¯ä»¥å¤„ç†è€—æ—¶æ“ä½œï¼Œä½†æ˜¯å®ƒå¹¶ä¸ä¼šç­‰å¾…è¿™äº›è€—æ—¶æ“ä½œå®Œæˆï¼Œå¼‚æ­¥å‡½æ•°æ‰§è¡Œæ—¶ä¼šåœ¨å…¶é‡åˆ°ç¬¬ä¸€ä¸ª <code>await</code> è¡¨è¾¾å¼ï¼ˆ<a target="_blank" rel="noopener" href="https://github.com/dart-lang/sdk/blob/master/docs/newsletter/20170915.md#synchronous-async-start">ä»£ç è¡Œ</a>ï¼‰æ—¶è¿”å›ä¸€ä¸ª Future å¯¹è±¡ï¼Œç„¶åç­‰å¾… await è¡¨è¾¾å¼æ‰§è¡Œå®Œæ¯•åç»§ç»­æ‰§è¡Œã€‚</p>
<p>ä½¿ç”¨ <code>try</code>ã€<code>catch</code> ä»¥åŠ <code>finally</code> æ¥å¤„ç†ä½¿ç”¨ <code>await</code> å¯¼è‡´çš„å¼‚å¸¸ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  version = <span class="keyword">await</span> lookUpVersion();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// æ— æ³•æ‰¾åˆ°ç‰ˆæœ¬æ—¶åšå‡ºçš„ååº”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨å¼‚æ­¥å‡½æ•°ä¸­å¤šæ¬¡ä½¿ç”¨ <code>await</code> å…³é”®å­—ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢ä»£ç ä¸­ç­‰å¾…äº†ä¸‰æ¬¡å‡½æ•°ç»“æœï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> entrypoint = <span class="keyword">await</span> findEntryPoint();</span><br><span class="line"><span class="keyword">var</span> exitCode = <span class="keyword">await</span> runExecutable(entrypoint, args);</span><br><span class="line"><span class="keyword">await</span> flushThenExit(exitCode);</span><br><span class="line"><span class="keyword">await</span> *è¡¨è¾¾å¼çš„è¿”å›å€¼é€šå¸¸æ˜¯ä¸€ä¸ª Future å¯¹è±¡ï¼›å¦‚æœä¸æ˜¯çš„è¯ä¹Ÿä¼šè‡ªåŠ¨å°†å…¶åŒ…è£¹åœ¨ä¸€ä¸ª Future å¯¹è±¡é‡Œã€‚Future å¯¹è±¡ä»£è¡¨ä¸€ä¸ªâ€œæ‰¿è¯ºâ€ï¼Œ`<span class="keyword">await</span> \*è¡¨è¾¾å¼\*`ä¼šé˜»å¡ç›´åˆ°éœ€è¦çš„å¯¹è±¡è¿”å›ã€‚*</span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æœåœ¨ä½¿ç”¨ <code>await</code> æ—¶å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œè¯·ç¡®ä¿ <code>await</code> åœ¨ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨</strong>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³åœ¨ main() å‡½æ•°ä¸­ä½¿ç”¨ <code>await</code>ï¼Œé‚£ä¹ˆ <code>main()</code> å‡½æ•°å°±å¿…é¡»ä½¿ç”¨ <code>async</code> å…³é”®å­—æ ‡è¯†ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="keyword">void</span>&gt; main() <span class="keyword">async</span> &#123;</span><br><span class="line">  checkVersion();</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;åœ¨ Main å‡½æ•°ä¸­æ‰§è¡Œï¼šç‰ˆæœ¬æ˜¯ <span class="subst">$&#123;await lookUpVersion()&#125;</span>&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å£°æ˜å¼‚æ­¥å‡½æ•°"><a href="#å£°æ˜å¼‚æ­¥å‡½æ•°" class="headerlink" title="å£°æ˜å¼‚æ­¥å‡½æ•°"></a>å£°æ˜å¼‚æ­¥å‡½æ•°</h3><p><strong>å¼‚æ­¥å‡½æ•°</strong> æ˜¯å‡½æ•°ä½“ç”± <code>async</code> å…³é”®å­—æ ‡è®°çš„å‡½æ•°ã€‚</p>
<p>å°†å…³é”®å­— <code>async</code> æ·»åŠ åˆ°å‡½æ•°å¹¶è®©å…¶è¿”å›ä¸€ä¸ª Future å¯¹è±¡ã€‚å‡è®¾æœ‰å¦‚ä¸‹è¿”å› String å¯¹è±¡çš„æ–¹æ³•ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> lookUpVersion() =&gt; <span class="string">&#x27;1.0.0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å°†å…¶æ”¹ä¸ºå¼‚æ­¥å‡½æ•°ï¼Œè¿”å›å€¼æ˜¯ Futureï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="built_in">String</span>&gt; lookUpVersion() <span class="keyword">async</span> =&gt; <span class="string">&#x27;1.0.0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå‡½æ•°ä½“ä¸éœ€è¦ä½¿ç”¨ Future APIã€‚å¦‚æœ‰å¿…è¦ï¼ŒDart ä¼šåˆ›å»º Future å¯¹è±¡ã€‚</p>
<p>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›æœ‰æ•ˆå€¼ï¼Œéœ€è¦è®¾ç½®å…¶è¿”å›ç±»å‹ä¸º <code>Future&lt;void&gt;</code>ã€‚</p>
<p>å…³äº Futureã€<code>async</code> å’Œ <code>await</code> çš„ä½¿ç”¨ä»‹ç»ï¼Œå¯ä»¥å‚è§è¿™ä¸ª codelab: <a target="_blank" rel="noopener" href="https://dart.cn/codelabs/async-await">asynchronous programming codelab</a>ã€‚</p>
<h3 id="å¤„ç†-Stream"><a href="#å¤„ç†-Stream" class="headerlink" title="å¤„ç† Stream"></a>å¤„ç† Stream</h3><p>å¦‚æœæƒ³ä» Stream ä¸­è·å–å€¼ï¼Œå¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>async</code> å…³é”®å­—å’Œä¸€ä¸ª <strong>å¼‚æ­¥å¾ªç¯</strong>ï¼ˆä½¿ç”¨ <code>await for</code> å…³é”®å­—æ ‡è¯†ï¼‰ã€‚</li>
<li>ä½¿ç”¨ Stream APIã€‚è¯¦æƒ…å‚è€ƒ <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/library-tour#stream">åº“æ¦‚è§ˆ</a>ã€‚</li>
</ul>
<p> <strong>å¤‡å¿˜:</strong></p>
<p>åœ¨ä½¿ç”¨ <code>await for</code> å…³é”®å­—å‰ï¼Œç¡®ä¿å…¶å¯ä»¥ä»¤ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°å¹¶ä¸”æ˜¯çœŸçš„éœ€è¦ç­‰å¾…æ‰€æœ‰çš„ç»“æœæ‰§è¡Œå®Œæ¯•ã€‚ä¾‹å¦‚ï¼Œé€šå¸¸ä¸åº”è¯¥åœ¨ UI äº‹ä»¶ç›‘å¬å™¨ä¸Šä½¿ç”¨ <code>await for</code> å…³é”®å­—ï¼Œå› ä¸º UI æ¡†æ¶å‘å‡ºçš„äº‹ä»¶æµæ˜¯æ— ç©·å°½çš„ã€‚</p>
<p>ä½¿ç”¨ await for å®šä¹‰å¼‚æ­¥å¾ªç¯çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> <span class="keyword">for</span> (varOrType identifier <span class="keyword">in</span> expression) &#123;</span><br><span class="line">  <span class="comment">// æ¯å½“ Stream å‘å‡ºä¸€ä¸ªå€¼æ—¶ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>*è¡¨è¾¾å¼*</code> çš„ç±»å‹å¿…é¡»æ˜¯ Streamã€‚æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç­‰å¾…ç›´åˆ° Stream è¿”å›ä¸€ä¸ªæ•°æ®ã€‚</li>
<li>ä½¿ç”¨ 1 ä¸­ Stream è¿”å›çš„æ•°æ®æ‰§è¡Œå¾ªç¯ä½“ã€‚</li>
<li>é‡å¤ 1ã€2 è¿‡ç¨‹ç›´åˆ° Stream æ•°æ®è¿”å›å®Œæ¯•ã€‚</li>
</ol>
<p>ä½¿ç”¨ <code>break</code> å’Œ <code>return</code> è¯­å¥å¯ä»¥åœæ­¢æ¥æ”¶ Stream æ•°æ®ï¼Œè¿™æ ·å°±è·³å‡ºäº†å¾ªç¯å¹¶å–æ¶ˆæ³¨å†Œç›‘å¬ Streamã€‚</p>
<p>**å¦‚æœåœ¨å®ç°å¼‚æ­¥ for å¾ªç¯æ—¶é‡åˆ°ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯·æ£€æŸ¥ç¡®ä¿ <code>await for</code> å¤„äºå¼‚æ­¥å‡½æ•°ä¸­ã€‚ ** ä¾‹å¦‚ï¼Œè¦åœ¨åº”ç”¨ç¨‹åºçš„ <code>main()</code> å‡½æ•°ä¸­ä½¿ç”¨å¼‚æ­¥ for å¾ªç¯ï¼Œ<code>main()</code> å‡½æ•°ä½“å¿…é¡»æ ‡è®°ä¸º <code>async</code>ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;<span class="keyword">void</span>&gt; main() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">for</span> (<span class="keyword">var</span> request <span class="keyword">in</span> requestServer) &#123;</span><br><span class="line">    handleRequest(request);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥æŸ¥é˜…åº“æ¦‚è§ˆä¸­æœ‰å…³ <a target="_blank" rel="noopener" href="https://dart.cn/guides/libraries/library-tour#dartasync---asynchronous-programming">dart:async</a> çš„éƒ¨åˆ†è·å–æ›´å¤šæœ‰å…³å¼‚æ­¥ç¼–ç¨‹çš„ä¿¡æ¯ã€‚</p>
<h2 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h2><p>å½“ä½ éœ€è¦å»¶è¿Ÿåœ°ç”Ÿæˆä¸€è¿ä¸²çš„å€¼æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ <em>ç”Ÿæˆå™¨å‡½æ•°</em>ã€‚Dart å†…ç½®æ”¯æŒä¸¤ç§å½¢å¼çš„ç”Ÿæˆå™¨æ–¹æ³•ï¼š</p>
<ul>
<li><strong>åŒæ­¥</strong> ç”Ÿæˆå™¨ï¼šè¿”å›ä¸€ä¸ª <strong><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-core/Iterable-class.html"><code>Iterable</code></a></strong> å¯¹è±¡ã€‚</li>
<li><strong>å¼‚æ­¥</strong> ç”Ÿæˆå™¨ï¼šè¿”å›ä¸€ä¸ª <strong><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-async/Stream-class.html"><code>Stream</code></a></strong> å¯¹è±¡ã€‚</li>
</ul>
<p>é€šè¿‡åœ¨å‡½æ•°ä¸ŠåŠ  <code>sync*</code> å…³é”®å­—å¹¶å°†è¿”å›å€¼ç±»å‹è®¾ç½®ä¸º Iterable æ¥å®ç°ä¸€ä¸ª <strong>åŒæ­¥</strong> ç”Ÿæˆå™¨å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­ä½¿ç”¨ <code>yield</code> è¯­å¥æ¥ä¼ é€’å€¼ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Iterable</span>&lt;<span class="built_in">int</span>&gt; naturalsTo(<span class="built_in">int</span> n) <span class="keyword">sync</span>* &#123;</span><br><span class="line">  <span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (k &lt; n) <span class="keyword">yield</span> k++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç° <strong>å¼‚æ­¥</strong> ç”Ÿæˆå™¨å‡½æ•°ä¸åŒæ­¥ç±»ä¼¼ï¼Œåªä¸è¿‡å…³é”®å­—ä¸º <code>async*</code> å¹¶ä¸”è¿”å›å€¼ä¸º Streamï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;<span class="built_in">int</span>&gt; asynchronousNaturalsTo(<span class="built_in">int</span> n) <span class="keyword">async</span>* &#123;</span><br><span class="line">  <span class="built_in">int</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (k &lt; n) <span class="keyword">yield</span> k++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”Ÿæˆå™¨æ˜¯é€’å½’è°ƒç”¨çš„ï¼Œå¯æ˜¯ä½¿ç”¨ <code>yield*</code> è¯­å¥æå‡æ‰§è¡Œæ€§èƒ½ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Iterable</span>&lt;<span class="built_in">int</span>&gt; naturalsDownFrom(<span class="built_in">int</span> n) <span class="keyword">sync</span>* &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> n;</span><br><span class="line">    <span class="keyword">yield</span>* naturalsDownFrom(n - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="-7"><a href="#-7" class="headerlink" title=""></a></h2><h2 id="å¯è°ƒç”¨ç±»"><a href="#å¯è°ƒç”¨ç±»" class="headerlink" title="å¯è°ƒç”¨ç±»"></a>å¯è°ƒç”¨ç±»</h2><p>é€šè¿‡å®ç°ç±»çš„ <code>call()</code> æ–¹æ³•ï¼Œå…è®¸ä½¿ç”¨ç±»ä¼¼å‡½æ•°è°ƒç”¨çš„æ–¹å¼æ¥ä½¿ç”¨è¯¥ç±»çš„å®ä¾‹ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>WannabeFunction</code> ç±»å®šä¹‰äº†ä¸€ä¸ª call() å‡½æ•°ï¼Œå‡½æ•°æ¥å—ä¸‰ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œå‡½æ•°ä½“å°†ä¸‰ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå­—ç¬¦ä¸²é—´ç”¨ç©ºæ ¼åˆ†å‰²ï¼Œå¹¶åœ¨ç»“å°¾é™„åŠ äº†ä¸€ä¸ªæ„Ÿå¹å·ã€‚å•å‡»è¿è¡ŒæŒ‰é’®æ‰§è¡Œä»£ç ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WannabeFunction</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> call(<span class="built_in">String</span> a, <span class="built_in">String</span> b, <span class="built_in">String</span> c) =&gt; <span class="string">&#x27;<span class="subst">$a</span> <span class="subst">$b</span> <span class="subst">$c</span>!&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wf = WannabeFunction();</span><br><span class="line"><span class="keyword">var</span> out = wf(<span class="string">&#x27;ä½ å¥½&#x27;</span>, <span class="string">&#x27;ï¼Œä½¿ç”¨ Dart çš„&#x27;</span>, <span class="string">&#x27;æœ‹å‹&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() =&gt; <span class="built_in">print</span>(out);</span><br></pre></td></tr></table></figure>



<h2 id="éš”ç¦»åŒº"><a href="#éš”ç¦»åŒº" class="headerlink" title="éš”ç¦»åŒº"></a>éš”ç¦»åŒº</h2><p>å¤§å¤šæ•°è®¡ç®—æœºä¸­ï¼Œç”šè‡³åœ¨ç§»åŠ¨å¹³å°ä¸Šï¼Œéƒ½åœ¨ä½¿ç”¨å¤šæ ¸ CPUã€‚ä¸ºäº†æœ‰æ•ˆåˆ©ç”¨å¤šæ ¸æ€§èƒ½ï¼Œå¼€å‘è€…ä¸€èˆ¬ä½¿ç”¨å…±äº«å†…å­˜çš„æ–¹å¼è®©çº¿ç¨‹å¹¶å‘åœ°è¿è¡Œã€‚ç„¶è€Œï¼Œå¤šçº¿ç¨‹å…±äº«æ•°æ®é€šå¸¸ä¼šå¯¼è‡´å¾ˆå¤šæ½œåœ¨çš„é—®é¢˜ï¼Œå¹¶å¯¼è‡´ä»£ç è¿è¡Œå‡ºé”™ã€‚</p>
<p>ä¸ºäº†è§£å†³å¤šçº¿ç¨‹å¸¦æ¥çš„å¹¶å‘é—®é¢˜ï¼ŒDart ä½¿ç”¨ isolate æ›¿ä»£çº¿ç¨‹ï¼Œæ‰€æœ‰çš„ Dart ä»£ç å‡è¿è¡Œåœ¨ä¸€ä¸ª <strong>isolate</strong> ä¸­ã€‚æ¯ä¸€ä¸ª isolate æœ‰å®ƒè‡ªå·±çš„å †å†…å­˜ä»¥ç¡®ä¿å…¶çŠ¶æ€ä¸è¢«å…¶å®ƒ isolate è®¿é—®ã€‚</p>
<p>ä½ å¯ä»¥æŸ¥é˜…ä¸‹é¢çš„æ–‡æ¡£è·å–æ›´å¤šç›¸å…³ä¿¡æ¯ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/dartlang/dart-asynchronous-programming-isolates-and-event-loops-bffc3e296a6a">Dart å¼‚æ­¥ç¼–ç¨‹ï¼šéš”ç¦»åŒºå’Œäº‹ä»¶å¾ªç¯</a></li>
<li><a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-isolate">dart:isolate API å‚è€ƒ</a> ä»‹ç»äº† <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-isolate/Isolate/spawn.html">Isolate.spawn()</a> å’Œ <a target="_blank" rel="noopener" href="https://api.dart.dev/stable/dart-isolate/TransferableTypedData-class.html">TransferableTypedData</a> çš„ç”¨æ³•</li>
<li><a target="_blank" rel="noopener" href="https://flutter.cn/docs/cookbook/networking/background-parsing">Background parsing</a> cookbook on the Flutter site</li>
<li>Flutter ç½‘ç«™ä¸Šå…³äº<a target="_blank" rel="noopener" href="https://flutter.cn/docs/cookbook/networking/background-parsing">åå°è§£æ</a>çš„ Cookbook</li>
</ul>
<h2 id="å…ƒæ•°æ®"><a href="#å…ƒæ•°æ®" class="headerlink" title="å…ƒæ•°æ®"></a>å…ƒæ•°æ®</h2><p>ä½¿ç”¨å…ƒæ•°æ®å¯ä»¥ä¸ºä»£ç å¢åŠ ä¸€äº›é¢å¤–çš„ä¿¡æ¯ã€‚å…ƒæ•°æ®æ³¨è§£ä»¥ <code>@</code> å¼€å¤´ï¼Œå…¶åç´§è·Ÿä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼ˆæ¯”å¦‚ <code>deprecated</code>ï¼‰æˆ–è€…è°ƒç”¨ä¸€ä¸ªå¸¸é‡æ„é€ å‡½æ•°ã€‚</p>
<p>Dart ä¸­æœ‰ä¸¤ä¸ªæ³¨è§£æ˜¯æ‰€æœ‰ä»£ç éƒ½å¯ä»¥ä½¿ç”¨çš„ï¼š<code>@deprecated</code> å’Œ <code>@override</code>ã€‚ä½ å¯ä»¥æŸ¥é˜… <a target="_blank" rel="noopener" href="https://dart.cn/guides/language/language-tour#extending-a-class">æ‰©å±•ä¸€ä¸ªç±»</a> è·å–æœ‰å…³ <code>@override</code> çš„ä½¿ç”¨ç¤ºä¾‹ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ <code>@deprecated</code> çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Television</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="markdown"><span class="emphasis">_å¼ƒç”¨: ä½¿ç”¨ [turnOn] æ›¿ä»£_</span></span></span></span><br><span class="line">  <span class="meta">@deprecated</span></span><br><span class="line">  <span class="keyword">void</span> activate() &#123;</span><br><span class="line">    turnOn();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="markdown">æ‰“å¼€ TV çš„ç”µæºã€‚</span></span></span><br><span class="line">  <span class="keyword">void</span> turnOn() &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è‡ªå®šä¹‰å…ƒæ•°æ®æ³¨è§£ã€‚ä¸‹é¢çš„ç¤ºä¾‹å®šä¹‰äº†ä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„ @todo æ³¨è§£ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span> todo;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> who;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> what;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> Todo(<span class="keyword">this</span>.who, <span class="keyword">this</span>.what);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ @Todo æ³¨è§£çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;todo.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Todo</span>(<span class="string">&#x27;seth&#x27;</span>, <span class="string">&#x27;make this do something&#x27;</span>)</span><br><span class="line"><span class="keyword">void</span> doSomething() &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;do something&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ƒæ•°æ®å¯ä»¥åœ¨ libraryã€classã€typedefã€type parameterã€ constructorã€factoryã€functionã€fieldã€parameter æˆ–è€… variable å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ import æˆ– export ä¹‹å‰ä½¿ç”¨ã€‚å¯ä½¿ç”¨åå°„åœ¨è¿è¡Œæ—¶è·å–å…ƒæ•°æ®ä¿¡æ¯</p>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>Authorï¼š<a href="http://penglimin.github.io">Duke</a>
            <p>åŸæ–‡é“¾æ¥ï¼š<a href="http://penglimin.github.io/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/">http://penglimin.github.io/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/</a>
            <p>å‘è¡¨æ—¥æœŸï¼š<a href="http://penglimin.github.io/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/">July 5th 2021, 10:02:29 am</a>
            <p>æ›´æ–°æ—¥æœŸï¼š<a href="http://penglimin.github.io/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/">July 5th 2021, 2:35:59 pm</a>
            <p>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡é‡‡ç”¨<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯</p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2021/05/30/Flutter%E5%BC%82%E5%B8%B8%E4%B8%8ECrash%E6%94%B6%E9%9B%86/" title= "Flutterå¼‚å¸¸ä¸Crashæ”¶é›†">
                    <div class="prevTitle">Flutterå¼‚å¸¸ä¸Crashæ”¶é›†</div>
                </a>
            
        </li>
    </ul>
    <!-- è¯„è®ºæ’ä»¶ -->
    <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->

<!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
    
    
    <!-- gitalkè¯„è®º -->

    <!-- utterancè¯„è®º -->

    <!-- partial('_partial/comment/changyan') -->
    <!--PCç‰ˆ-->


    
    

    <!-- è¯„è®º -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:1601778775@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <span class="iconfont-archer qq" title=qq>
                  
                  <img class="profile-qr" src="/assets/qq.jpg" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- ä¸è’œå­  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%87%8D%E8%A6%81%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">1. é‡è¦æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">2.1.</span> <span class="toc-text">é»˜è®¤å€¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Late-%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.</span> <span class="toc-text">Late å˜é‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Final-%E5%92%8C-Const"><span class="toc-number">2.3.</span> <span class="toc-text">Final å’Œ Const</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">å†…ç½®ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Numbers"><span class="toc-number"></span> <span class="toc-text">Numbers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Strings"><span class="toc-number"></span> <span class="toc-text">Strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Booleans"><span class="toc-number"></span> <span class="toc-text">Booleans</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lists"><span class="toc-number"></span> <span class="toc-text">Lists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sets"><span class="toc-number"></span> <span class="toc-text">Sets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Maps"><span class="toc-number"></span> <span class="toc-text">Maps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Runes-%E4%B8%8E-grapheme-clusters"><span class="toc-number"></span> <span class="toc-text">Runes ä¸ grapheme clusters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbols"><span class="toc-number"></span> <span class="toc-text">Symbols</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">å‘½åå‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">å¯é€‰çš„ä½ç½®å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E5%80%BC"><span class="toc-number">3.</span> <span class="toc-text">é»˜è®¤å‚æ•°å€¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main-%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">main() å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%98%AF%E4%B8%80%E7%BA%A7%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">å‡½æ•°æ˜¯ä¸€çº§å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">åŒ¿åå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number"></span> <span class="toc-text">è¯æ³•ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E9%97%AD%E5%8C%85"><span class="toc-number"></span> <span class="toc-text">è¯æ³•é—­åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89"><span class="toc-number"></span> <span class="toc-text">æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number"></span> <span class="toc-text">è¿”å›å€¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number"></span> <span class="toc-text">è¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number"></span> <span class="toc-text">ç±»å‹åˆ¤æ–­è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number"></span> <span class="toc-text">èµ‹å€¼è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number"></span> <span class="toc-text">æ¡ä»¶è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number"></span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number"></span> <span class="toc-text">æµç¨‹æ§åˆ¶è¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%AD%E8%A8%80"><span class="toc-number"></span> <span class="toc-text">æ–­è¨€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number"></span> <span class="toc-text">å¼‚å¸¸</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8"><span class="toc-number"></span> <span class="toc-text">æŠ›å‡ºå¼‚å¸¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8"><span class="toc-number"></span> <span class="toc-text">æ•è·å¼‚å¸¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-1"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Finally"><span class="toc-number"></span> <span class="toc-text">Finally</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number"></span> <span class="toc-text">ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨ç±»çš„æˆå‘˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">è·å–å¯¹è±¡çš„ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F"><span class="toc-number"></span> <span class="toc-text">å®ä¾‹å˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">æ„é€ å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">é»˜è®¤æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8D%E8%A2%AB%E7%BB%A7%E6%89%BF"><span class="toc-number">2.</span> <span class="toc-text">æ„é€ å‡½æ•°ä¸è¢«ç»§æ‰¿</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">å‘½åå¼æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E9%9D%9E%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">è°ƒç”¨çˆ¶ç±»éé»˜è®¤æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="toc-number">5.</span> <span class="toc-text">åˆå§‹åŒ–åˆ—è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">é‡å®šå‘æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">å¸¸é‡æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">å·¥å‚æ„é€ å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-2"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">å®ä¾‹æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">2.</span> <span class="toc-text">æ“ä½œç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Getter-%E5%92%8C-Setter"><span class="toc-number">3.</span> <span class="toc-text">Getter å’Œ Setter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">æŠ½è±¡æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number"></span> <span class="toc-text">æŠ½è±¡ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E6%8E%A5%E5%8F%A3"><span class="toc-number"></span> <span class="toc-text">éšå¼æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="toc-number"></span> <span class="toc-text">æ‰©å±•ä¸€ä¸ªç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%86%99%E7%B1%BB%E6%88%90%E5%91%98"><span class="toc-number">1.</span> <span class="toc-text">é‡å†™ç±»æˆå‘˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#noSuchMethod-%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">noSuchMethod æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">æ‰©å±•æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">æšä¸¾ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-enums"><span class="toc-number">1.</span> <span class="toc-text">Using enums</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨æšä¸¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-4"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Mixin-%E4%B8%BA%E7%B1%BB%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨ Mixin ä¸ºç±»æ·»åŠ åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">ç±»å˜é‡å’Œæ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">é™æ€å˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">é™æ€æ–¹æ³•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">æ³›å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%EF%BC%9F"><span class="toc-number"></span> <span class="toc-text">ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-5"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%9B%86%E5%90%88%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨é›†åˆå­—é¢é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%8C%96%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨ç±»å‹å‚æ•°åŒ–çš„æ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E9%9B%86%E5%90%88%E4%BB%A5%E5%8F%8A%E5%AE%83%E4%BB%AC%E6%89%80%E5%8C%85%E5%90%AB%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">æ³›å‹é›†åˆä»¥åŠå®ƒä»¬æ‰€åŒ…å«çš„ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%8F%82%E6%95%B0%E5%8C%96%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">é™åˆ¶å‚æ•°åŒ–ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨æ³›å‹æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%93%E5%92%8C%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-number"></span> <span class="toc-text">åº“å’Œå¯è§æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BA%93"><span class="toc-number"></span> <span class="toc-text">ä½¿ç”¨åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E5%BA%93%E5%89%8D%E7%BC%80"><span class="toc-number">1.</span> <span class="toc-text">æŒ‡å®šåº“å‰ç¼€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%BA%93%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86"><span class="toc-number">2.</span> <span class="toc-text">å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">å»¶è¿ŸåŠ è½½åº“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-6"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%BA%93"><span class="toc-number"></span> <span class="toc-text">å®ç°åº“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%94%AF%E6%8C%81"><span class="toc-number"></span> <span class="toc-text">å¼‚æ­¥æ”¯æŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86-Future"><span class="toc-number"></span> <span class="toc-text">å¤„ç† Future</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%82%E6%AD%A5%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">å£°æ˜å¼‚æ­¥å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86-Stream"><span class="toc-number"></span> <span class="toc-text">å¤„ç† Stream</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number"></span> <span class="toc-text">ç”Ÿæˆå™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-7"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB"><span class="toc-number"></span> <span class="toc-text">å¯è°ƒç”¨ç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%94%E7%A6%BB%E5%8C%BA"><span class="toc-number"></span> <span class="toc-text">éš”ç¦»åŒº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E6%95%B0%E6%8D%AE"><span class="toc-number"></span> <span class="toc-text">å…ƒæ•°æ®</span></a>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- åœ¨ejsä¸­å°†archiveæŒ‰ç…§æ—¶é—´æ’åº -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 7
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2021 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/05</span><a class="archive-post-title" href= "/2021/07/05/Dart-%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E6%A6%82%E8%A7%88/" >Dart å¼€å‘è¯­è¨€æ¦‚è§ˆ - 01</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/30</span><a class="archive-post-title" href= "/2021/05/30/Flutter%E5%BC%82%E5%B8%B8%E4%B8%8ECrash%E6%94%B6%E9%9B%86/" >Flutterå¼‚å¸¸ä¸Crashæ”¶é›†</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span><a class="archive-post-title" href= "/2021/05/18/Flutter-%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86/" >Flutter å‘½ä»¤åˆé›†</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span><a class="archive-post-title" href= "/2021/05/18/Dart%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80/" >Dartå¼€å‘è¯­è¨€</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span><a class="archive-post-title" href= "/2021/05/15/iOS-flutter-module%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91%E5%8F%8A%E9%9B%86%E6%88%90flutter-boost/" >iOS+flutter_moduleæ··åˆå¼€å‘åŠé›†æˆflutter_boost</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/18</span><a class="archive-post-title" href= "/2021/04/18/github-hexo-hexo-theme-archer/" >github-hexo-hexo-theme-archer</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/18</span><a class="archive-post-title" href= "/2021/04/18/hello-world/" >Hello World</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="Flutter"><span class="iconfont-archer">&#xe606;</span>Flutter</span>
    
        <span class="sidebar-tag-name" data-tags="Flutter  Dart"><span class="iconfont-archer">&#xe606;</span>Flutter  Dart</span>
    
        <span class="sidebar-tag-name" data-tags="Dart"><span class="iconfont-archer">&#xe606;</span>Dart</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    ç¼ºå¤±æ¨¡å—ã€‚<br/>
    1ã€è¯·ç¡®ä¿nodeç‰ˆæœ¬å¤§äº6.2<br/>
    2ã€åœ¨åšå®¢æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯archeræ ¹ç›®å½•ï¼‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3ã€åœ¨æ ¹ç›®å½•_config.ymlé‡Œæ·»åŠ é…ç½®ï¼š
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "Duke"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
    </body>
</html>


