#### 1.11 内存地址空间(概述)

什么是内存地址空间？举例来说，一个cpu的地址总线宽度为10，那么可以寻址1024个内存单元，这1024个可寻到的内存单元就构成这个cpu的内存地址空间。



#### 1.12 主板

在每一台pc机中，都有一个主板，主板上有核心器件和一些主要器件，这些器件通过总线（地址总线，数据总线，控制总线）相连。这些器件有cpu，存储器，外围芯片组，扩展插槽等。扩展插槽上一般插有RAM内存条和各类接口卡。

#### 1.13 接口卡

计算机系统中，所有可用程序控制其工作的设备，必须受到cpu的控制，cpu对外部设备都不能直接控制，如显示器，音箱，打印机等。直接控制这些设备进行工作的是插在扩展槽上的接口卡，扩展插槽通过总线和cpu相连，所以接口卡也通过总线通cpu相连，cpu可以直接控制这些接口卡，从而实现cpu对外设的间接控制。简单的讲，就是cpu通过总线，向接口卡发送命令，接口卡根据cpu的命令控制外设进行工作。



#### 1.14 各类存储器芯片

一台PC机中，装有多个存储器芯片，这些存储器芯片从物理连接上看是独立的，不同的器件。从读写属性上看分为两类：随机存储器RAM 和只读存储器ROM.随机存储器可读可写，但必须带电存储，关机后存储的内容丢失：只读存储器只能读取不能写入，关机后其中的内容不丢失。这些存储器从功能和链接上又可分为以下几类：

1. 随机存储器

用于存放共cpu使用的绝大部分程序和数据，主随机存储器一般由两个位置上的RAM组成，装在主板上的RAM,和插在扩展槽上的RAM.

2. 装有BIOS(Basic Input/Output System, 基本输入输出系统)的ROM

BIOS是由主板和各类接口卡（如显卡，网卡等）厂商提供的软件系统，可以通过它利用该硬件设备进行最基本的输入输出。在主板和某些借口卡上插有存储响应BIOS的ROM.例如，主板上的ROM中存储着主板的BIOS(通常称为系统BIOS):显卡上的ROM中存储着显卡的BIOS：如果网卡上装有ROM,那其中就可以存储网卡的BIOS.

3. 接口卡上的RAM

   某些接口卡需要对大批量输入，输出数据进行暂时存储，在其上装有RAM。最典型的是显示卡上的RAM,一般称为显存。显示卡随时将显存中的数据向显示器上输出。换句话说，我们将需要显示的内容写入显存，就会出现在显示器上。



主板上的BIOS通常称为系统BIOS,是开机加电后，星星之火。

#### 1.15 内存地址空间

上述的那些存储器，在物理上是独立的器件，但是在以下两点上相同。

1. 都和cpu的总线相连。
2. cpu对他们进行读或写的时候通过控制线发出内存读写命令。

也就是说，cpu在操控他们的时候，把他们都当做内存来对待，把他们总的看作一个由若干存储单元组成的逻辑存储器，这个逻辑存储器就是我们所说的内存地址控件。

在汇编中，我们所面对的是内存地址空间。



内存地址空间（假想的逻辑存储器）

主存储器地址空间

显存地址空间

显卡BIOS ROM地址空间

网卡BIOS ROM地址空间

系统BIOS ROM地址空间



所有的物理存储器被看做一个由若干存储单元组成的逻辑存储器。每个物理存储器在这个逻辑存储器中占有一个地址段，即一段地址空间。cpu在这段地址空间中读写数据，实际上就是在相应的物理存储器中读写数据。



假设，内存地址空间的地址段分配如下：

地址1-7FFFH 的32KB空间为主随机存储器地址空间；

地址8000H-9FFFH的8KB空间为显存地址空间；

地址A000H-FFFFH的24KB空间为各个ROM的地址空间。

这样，CPU向内存地址为1000H的内存单元中写入数据，这个数据就被写入注随机存储器中；cpu向内存地址为8000H的内存单元中写入数据，这个数据就被写入显存中，然后会被显卡输出到显示器上；cpu向内存地址为c000H的内存中写入数据的操作时没有结果的。c000H单元中的内容不会被改变。C000H单元实际上就是ROM存储器中的一个单元。



内存地址空间的大小受cpu地址总线宽度的限制。8086cpu的地址总线宽度为20，即可以定位2的20次方个内存单元，则8086PC的内存地址空间大小为1MB.同理，80386CPU的地址总线宽度是32，则内存地址空间最大为4GB.



women我们再基于一个计算机硬件系统编程的时候，必须知道这个系统中的内存地址空间分配情况，因为当我们想在某类存储器中读写数据的时候，必须知道它的第一个单元的地址，和最后一个单元的地址，才能保证读写操作在预期的存储器中进行。比如我们希望向显示器输出一段信息，那么必须将这段信息写到显存中，显卡才能将它输出到显示器上，要想显存中写入数据，必须知道显存在内存地址空间中的地址。

不同的计算机系统的内存地址空间的分配情况是不同的。







